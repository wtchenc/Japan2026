<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026 æ—¥æœ¬æ—…è¡Œæ‰‹å¸³</title>
    
    <!-- Google Fonts: Zen Maru Gothic (åœ“é«”) & Noto Sans TC -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;500;700&family=Noto+Sans+TC:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Tailwind Config for Journal Style -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        journal: {
                            bg: '#fcf9f2',      // ç±³é»ƒç´™å¼µåº•è‰²
                            card: '#ffffff',    // ç´”ç™½ç´™å¼µ
                            ink: '#594a4e',     // æ·±è¤å¢¨æ°´è‰² (æ–‡å­—ä¸»è‰²)
                            brown: '#a68a80',   // æ·ºæ£•è‰² (æ¬¡è¦æ–‡å­—)
                            accent: '#d48872',  // çŠç‘šç²‰ (å¼·èª¿è‰²)
                            blue: '#8db5be',    // æ²–ç¹©æµ·è—
                            green: '#9eb896',   // ä¹å·å±±ç¶ 
                            line: '#e0d8cc'     // æ·ºç°ç·šæ¢
                        }
                    },
                    fontFamily: {
                        sans: ['"Zen Maru Gothic"', '"Noto Sans TC"', 'sans-serif'],
                    },
                    backgroundImage: {
                        'paper-pattern': "url('data:image/svg+xml,%3Csvg width=\\'60\\' height=\\'60\\' viewBox=\\'0 0 60 60\\' xmlns=\\'http://www.w3.org/2000/svg\\'%3E%3Cg fill=\\'none\\' fill-rule=\\'evenodd\\'%3E%3Cg fill=\\'%23d1c7b7\\' fill-opacity=\\'0.15\\'%3E%3Cpath d=\\'M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z\\'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')",
                    }
                }
            }
        }
    </script>

    <style>
        /* Global Reset & Utility */
        body {
            background-color: #fcf9f2;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23dcbba3' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
            color: #594a4e;
            -webkit-tap-highlight-color: transparent;
        }
        
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* Journal Card Effect */
        .journal-card {
            background: #fff;
            border-radius: 12px;
            box-shadow: 2px 3px 10px rgba(0,0,0,0.05);
            border: 1px solid rgba(0,0,0,0.02);
            position: relative;
        }

        /* Washi Tape Effect */
        .washi-tape-top {
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%) rotate(-1deg);
            width: 100px;
            height: 24px;
            background-color: rgba(212, 136, 114, 0.3);
            border-left: 2px dashed rgba(255,255,255,0.6);
            border-right: 2px dashed rgba(255,255,255,0.6);
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            z-index: 10;
        }
        .washi-tape-blue { background-color: rgba(141, 181, 190, 0.4); }
        .washi-tape-green { background-color: rgba(158, 184, 150, 0.4); }

        /* Dashed Timeline */
        .timeline-line::before {
            content: '';
            position: absolute;
            top: 2rem;
            bottom: -1rem;
            left: 1rem;
            width: 0px;
            border-left: 2px dashed #d1c7b7;
            z-index: 0;
        }
        .last-item .timeline-line::before { display: none; }

        /* Hand-drawn Button */
        .btn-hand {
            transition: all 0.2s;
            border-bottom: 3px solid transparent;
        }
        .btn-hand:active {
            transform: translateY(2px);
            border-bottom: 0px solid transparent;
        }

        /* Toggle Switch Animation */
        #night-toggle:checked + .toggle-bg {
            background-color: #312e81; /* Indigo 900 */
            border-color: #312e81;
        }
        #night-toggle:checked + .toggle-bg .toggle-dot {
            transform: translateX(100%);
            border-color: white;
            background-color: white;
        }
        #night-toggle:checked + .toggle-bg .toggle-icon {
            opacity: 1;
            color: #312e81;
        }
        
        .fade-in { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="flex flex-col h-screen overflow-hidden text-journal-ink">

    <!-- Top Header -->
    <header id="main-header" class="flex-none bg-journal-bg/95 backdrop-blur-sm border-b border-journal-line px-6 py-4 flex justify-between items-center z-20 transition-transform duration-300">
        <div>
            <h1 class="text-2xl font-bold tracking-widest text-journal-ink flex items-center">
                <i class="fa-solid fa-plane-up mr-2 text-journal-accent text-sm"></i>
                TRIP 2026
            </h1>
            <p class="text-xs text-journal-brown tracking-wider mt-1">
                <span class="bg-journal-blue/20 px-2 py-0.5 rounded-full text-journal-blue">æ²–ç¹©</span> & 
                <span class="bg-journal-green/20 px-2 py-0.5 rounded-full text-journal-green">ä¹å·</span>
            </p>
        </div>
        <div class="flex flex-col items-end">
            <div class="text-xs text-journal-brown mb-1">Day</div>
            <div class="text-xl font-bold text-journal-accent font-mono bg-white px-3 py-1 rounded-lg border-2 border-dashed border-journal-line shadow-sm">
                <span id="current-day-display">1</span>
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main id="app-container" class="flex-1 overflow-y-auto hide-scrollbar p-4 pb-28 relative">
        <!-- Content injected by JS -->
    </main>

    <!-- Bottom Navigation (Floating) -->
    <div class="fixed bottom-6 left-2 right-2 z-30">
        <nav class="bg-white rounded-2xl shadow-[0_5px_20px_rgba(0,0,0,0.08)] border border-journal-line p-1.5 flex justify-around items-center">
            <button onclick="switchTab('plan')" class="nav-btn flex-1 py-2 rounded-xl flex flex-col items-center justify-center space-y-0.5 text-journal-brown transition-colors hover:bg-journal-bg" data-target="plan">
                <i class="fa-regular fa-calendar-check text-base"></i>
                <span class="text-[9px] font-medium">è¡Œç¨‹</span>
            </button>
            <button onclick="switchTab('guide')" class="nav-btn flex-1 py-2 rounded-xl flex flex-col items-center justify-center space-y-0.5 text-journal-brown transition-colors hover:bg-journal-bg" data-target="guide">
                <i class="fa-solid fa-book-open text-base"></i>
                <span class="text-[9px] font-medium">æ™¯é»</span>
            </button>
            <button onclick="switchTab('shops')" class="nav-btn flex-1 py-2 rounded-xl flex flex-col items-center justify-center space-y-0.5 text-journal-brown transition-colors hover:bg-journal-bg" data-target="shops">
                <i class="fa-solid fa-shop text-base"></i>
                <span class="text-[9px] font-medium">å¥½åº—</span>
            </button>
            <button onclick="switchTab('info')" class="nav-btn flex-1 py-2 rounded-xl flex flex-col items-center justify-center space-y-0.5 text-journal-brown transition-colors hover:bg-journal-bg" data-target="info">
                <i class="fa-solid fa-circle-info text-base"></i>
                <span class="text-[9px] font-medium">è³‡è¨Š</span>
            </button>
            <button onclick="switchTab('taxi')" class="nav-btn flex-1 py-2 rounded-xl flex flex-col items-center justify-center space-y-0.5 text-journal-brown transition-colors hover:bg-journal-bg" data-target="taxi">
                <i class="fa-solid fa-taxi text-base"></i>
                <span class="text-[9px] font-medium">è»Šè³‡</span>
            </button>
            <button onclick="switchTab('lists')" class="nav-btn flex-1 py-2 rounded-xl flex flex-col items-center justify-center space-y-0.5 text-journal-brown transition-colors hover:bg-journal-bg" data-target="lists">
                <i class="fa-solid fa-list-check text-base"></i>
                <span class="text-[9px] font-medium">æ¸…å–®</span>
            </button>
        </nav>
    </div>

    <!-- Modal -->
    <div id="loading-modal" class="hidden fixed inset-0 bg-journal-ink/20 z-50 flex items-center justify-center backdrop-blur-sm">
        <div class="bg-white p-6 rounded-2xl shadow-xl flex flex-col items-center space-y-3">
            <i class="fa-solid fa-circle-notch fa-spin text-journal-accent text-2xl"></i>
            <span class="text-journal-ink font-medium">è™•ç†ä¸­...</span>
        </div>
    </div>

    <script>
        // --- Data ---
        const tripData = [
            {
                date: "01/28 (ä¸‰)",
                title: "Day 1: æŠµé”æ²–ç¹© & å±…é…’å±‹é«”é©—",
                area: "æ²–ç¹©é‚£éœ¸",
                route: "https://www.google.com/maps/dir/Naha+Airport/THE+NEST+HOTEL+NAHA/Mikado+Naha/Steak+House+88+Tsuji",
                mapFocus: "Mikado Naha",
                events: [
                    { time: "19:20", title: "æŠµé”é‚£éœ¸æ©Ÿå ´ (OKA)", desc: "æ­è¨ˆç¨‹è»Šå‰å¾€é£¯åº— (ç´„20åˆ†)", icon: "fa-plane-arrival", highlight: true },
                    { time: "20:30", title: "Check-in THE NEST", desc: "æ”¾è¡Œæ", icon: "fa-hotel" },
                    { time: "æ™šé¤", title: "ä¸‰ç¬ é£Ÿå ‚ / 88ç‰›æ’ (è¾»æœ¬åº—)", desc: "Mikado å¼·æ£’é£¯é›¢é£¯åº—è¿‘ï¼›88ç‰›æ’ç‡Ÿæ¥­è‡³æ·±å¤œ (Jack's é€±ä¸‰å…¬ä¼‘)", icon: "fa-utensils", link: "Steak House 88 Tsuji" },
                    { time: "æ™šé–“", title: "åœ‹éš›é€šæ™šé¤ & å”å‰è»»å¾·", desc: "ğŸš• è¨ˆç¨‹è»Šå‰å¾€ (å–®ç¨‹ç´„ Â¥800~Â¥1,000)<br>æ™šé¤ï¼šæš–æš®æ‹‰éºµ / 88ç‰›æ’åœ‹éš›é€šåº—<br>æ¡è³¼ï¼šå”å‰è»»å¾· (24Hç‡Ÿæ¥­)", icon: "fa-bag-shopping", link: "Don Quijote Kokusai Dori" }
                ]
            },
            {
                date: "01/29 (å››)",
                title: "Day 2: æ•˜æ•˜è‹‘æµ·æ™¯åˆé¤ & ä¸­éƒ¨",
                area: "æ²–ç¹©ä¸­éƒ¨",
                // Updated ORIX location to Japanese name for accuracy
                route: "https://www.google.com/maps/dir/THE+NEST+HOTEL+NAHA/ã‚ªãƒªãƒƒã‚¯ã‚¹ãƒ¬ãƒ³ã‚¿ã‚«ãƒ¼é‚£è¦‡æ—­æ©‹é§…è¥¿åº—/PARCO+CITY/American+Village/Aeon+Mall+Okinawa+Rycom",
                mapFocus: "PARCO CITY",
                events: [
                    { time: "09:00", title: "ORIX å–è»Š (æ—­æ©‹ç«™è¥¿åº—)", desc: "é ç´„è™Ÿç¢¼: 247158145 (æ—­æ©‹ç«™æ­¥è¡Œ5åˆ†)", icon: "fa-car", highlight: true, alert: "important", link: "ORIX Rent-a-Car Naha Asahibashi Station West" },
                    { time: "10:00", title: "Parco City", desc: "ğŸš— äº¤é€šï¼šç´„ 25 åˆ†<br>3F å‰åœåŠ›ã€æ¨‚é«˜ã€å¯¶å¯å¤¢ä¸­å¿ƒ", icon: "fa-bag-shopping", link: "PARCO CITY Urasoe West Coast" },
                    { time: "11:00", title: "æ•˜æ•˜è‹‘ç‡’è‚‰", desc: "ã€å·²é ç´„ã€‘çª—é‚Šåº§ä½ï¼Œåˆé–“å¥—é¤CPå€¼é«˜", icon: "fa-fire", link: "Jojoen Parco City" },
                    { time: "14:00", title: "ç¾åœ‹æ‘", desc: "ğŸš— äº¤é€šï¼šç´„ 30 åˆ†<br>å¤§åœ‹è—¥å¦ã€Blue Seal å†°æ·‡æ·‹", icon: "fa-camera", link: "American Village Okinawa" },
                    { time: "17:00", title: "æ°¸æ—ºå¤¢æ¨‚åŸ Rycom", desc: "ğŸš— äº¤é€šï¼šç´„ 20 åˆ†<br>çœ‹è¶…å¤§æ°´æ—ç®± (è¦–æ™‚é–“è€Œå®š)", icon: "fa-fish" },
                    { time: "æ™šé¤", title: "å¡”å¯é£¯ / A&W", desc: "ğŸš— äº¤é€šï¼šç´„ 10 åˆ†<br>Kijimuna æ­å§†è›‹å¡”å¯é£¯ æˆ– A&W éº¥æ ¹æ²™å£«", icon: "fa-burger" }
                ]
            },
            {
                date: "01/30 (äº”)",
                title: "Day 3: åŒ—éƒ¨é å¾ï¼šé¯¨é¯Šèˆ‡æé¾",
                area: "æ²–ç¹©åŒ—éƒ¨",
                route: "https://www.google.com/maps/dir/THE+NEST+HOTEL+NAHA/Okinawa+Churaumi+Aquarium/Kouri+Shrimp/Nago+Pineapple+Park/DINO+Dinosaur+Park+Yanbaru/Ufuya",
                mapFocus: "Okinawa Churaumi Aquarium",
                events: [
                    { time: "08:00", title: "ææ—©å‡ºç™¼ï¼é«˜é€Ÿå…¬è·¯åŒ—ä¸Š", desc: "ğŸš— äº¤é€šï¼šç´„ 2 å°æ™‚ (é¿é–‹é‚£éœ¸ä¸Šç­è»Šæ½®)", icon: "fa-road", alert: "important" },
                    { time: "10:00", title: "ç¾éº—æµ·æ°´æ—é¤¨", desc: "å»ºè­°å…ˆçœ‹ 10:30 æˆ¶å¤–æµ·è±šç§€ï¼Œå†é€²é¤¨çœ‹é»‘æ½®ä¹‹æµ·é¯¨é¯Š", icon: "fa-water", link: "Okinawa Churaumi Aquarium", highlight: true },
                    { time: "13:30", title: "å¤å®‡åˆ©è¦è¦é£¯", desc: "ğŸš— äº¤é€šï¼šç´„ 35 åˆ†<br>è’œé¦™å¥¶æ²¹è¦ï¼Œå»æ©‹ä¸‹æ²™ç˜è¸©æ°´çœ‹å¿ƒå½¢å²©", icon: "fa-shrimp", link: "Kouri Shrimp" },
                    { time: "15:30", title: "åè­·é³³æ¢¨åœ’", desc: "ğŸš— äº¤é€šï¼šç´„ 25 åˆ†<br>æ­ä¹˜ç„¡äººé³³æ¢¨è»Šï¼Œè²·ä¼´æ‰‹ç¦®", icon: "fa-lemon", link: "Nago Pineapple Park" },
                    { time: "17:00", title: "DINO æé¾å…¬åœ’", desc: "ğŸš— äº¤é€šï¼šç´„ 5 åˆ†<br>å±±åŸäºç†±å¸¶ä¹‹æ£®ï¼Œæ‰¾æš´é¾ï¼", icon: "fa-dragon", link: "DINO Dinosaur Park Yanbaru Subtropical Forest" },
                    { time: "æ™šé¤", title: "ç™¾å¹´å¤å®¶ å¤§å®¶ (Ufuya)", desc: "ğŸš— äº¤é€šï¼šç´„ 10 åˆ†<br>åœ¨å¤æ°‘å®…äº«ç”¨é˜¿å¤è±¬ç«é‹", icon: "fa-house-chimney", link: "Ufuya Okinawa" }
                ]
            },
            {
                date: "01/31 (å…­)",
                title: "Day 4: å—éƒ¨æ¢éšª & DMM æ°´æ—é¤¨",
                area: "æ²–ç¹©å—éƒ¨",
                // Updated ORIX location to Japanese name for accuracy
                route: "https://www.google.com/maps/dir/THE+NEST+HOTEL+NAHA/Gyokusendo+Cave/Itoman+Fish+Market/DMM+Kariyushi+Aquarium/ã‚ªãƒªãƒƒã‚¯ã‚¹ãƒ¬ãƒ³ã‚¿ã‚«ãƒ¼é‚£è¦‡æ—­æ©‹é§…è¥¿åº—/Ramen+Danbo+Naha",
                mapFocus: "Okinawa World",
                events: [
                    { time: "09:30", title: "ç‰æ³‰æ´", desc: "ğŸš— äº¤é€šï¼šç´„ 40 åˆ†<br>æ—¥æœ¬ç¬¬äºŒå¤§é˜ä¹³çŸ³æ´", icon: "fa-mountain", link: "Okinawa World" },
                    { time: "12:30", title: "ç³»æ»¿é­šå¸‚å ´", desc: "ğŸš— äº¤é€šï¼šç´„ 25 åˆ†<br>æˆ¶å¤–åƒç„—çƒ¤é¾è¦ã€æµ·è†½ï¼Œæµ·é®®å¤©å ‚", icon: "fa-fish", link: "Itoman Fish Market" },
                    { time: "14:30", title: "DMM æ°´æ—é¤¨ & iias", desc: "ğŸš— äº¤é€šï¼šç´„ 15 åˆ†<br>è²å…‰ç§‘æŠ€äº’å‹•ï¼Œåœ°æ¿é€æ˜æ°´æ§½", icon: "fa-mobile-screen", link: "DMM Kariyushi Aquarium" },
                    { time: "19:00", title: "ORIX é‚„è»Š", desc: "ğŸš— äº¤é€šï¼šç´„ 30 åˆ† (å‚æ™šæ˜“å¡è»Š)<br>æ—­æ©‹ç«™è¥¿åº— (æ²–ç¸„çœŒé‚£è¦‡å¸‚è¥¿2-3-1)", icon: "fa-check-circle", alert: "important", link: "ORIX Rent-a-Car Naha Asahibashi Station West" },
                    { time: "æ™šé¤", title: "æš–æš® / é€šå ‚æ‹‰éºµ", desc: "å›é‚£éœ¸å¸‚å€åƒæ‹‰éºµ", icon: "fa-bowl-rice" }
                ]
            },
            {
                date: "02/01 (æ—¥)",
                title: "Day 5: ç§»å‹•æ—¥ & é¬¼æ»…åœ°ç„å·¡ç¦®",
                area: "ä¹å·åˆ¥åºœ",
                route: "https://www.google.com/maps/dir/Fukuoka+Airport/Yamada+SA/Kamado+Jigoku/Jigoku+Mushi+Kobo+Kannawa/AMANEK+Beppu+YULA-RE",
                mapFocus: "Kamado Jigoku",
                events: [
                    { time: "10:10", title: "èµ·é£› OKA -> FUK", desc: "12:00 æŠµé”ç¦å²¡", icon: "fa-plane-departure" },
                    { time: "13:30", title: "åšå¤šå–è»Š (Sienta)", desc: "å‰å¾€åˆ¥åºœï¼Œä¸­é€”åœå±±ç”° SA è²·å„ªé…ªä¹³", icon: "fa-car", highlight: true, alert: "important" },
                    { time: "16:00", title: "åœ°ç„å·¡ç¦®", desc: "ç¶åœ°ç„ (é¬¼æ»…ç›¸é—œ/å–æº«æ³‰æ°´)ã€æµ·åœ°ç„ (è’‚èŠ¬å¦®è—)", icon: "fa-volcano", link: "Kamado Jigoku" },
                    { time: "æ™šé¤", title: "åœ°ç„è’¸å·¥æˆ¿ éµè¼ª", desc: "é«”é©—ç”¨æº«æ³‰è’¸æ°£è’¸ç†Ÿé£Ÿæ", icon: "fa-carrot", link: "Jigoku Mushi Kobo Kannawa" },
                    { time: "ä½å®¿", title: "AMANEK YULA-RE", desc: "é ‚æ¨“ç„¡é‚Šéš›æº«æ³‰æ³³æ± ", icon: "fa-hotel" }
                ]
            },
            {
                date: "02/02 (ä¸€)",
                title: "Day 6: å¢æ—å·´å£« & é›ªå±±çµ•æ™¯",
                area: "åˆ¥åºœ",
                route: "https://www.google.com/maps/dir/AMANEK+Beppu+YULA-RE/African+Safari/Beppu+Ropeway/Hachiman+Kamado+Shrine/Kamesho+Kururu+Sushi",
                mapFocus: "African Safari Japan",
                events: [
                    { time: "09:30", title: "ä¹å·è‡ªç„¶å‹•ç‰©åœ’", desc: "ã€å·²é ç´„ã€‘Jungle Bus é¤µç…å­/ç†Š/å¤§è±¡", icon: "fa-paw", link: "African Safari Japan", highlight: true },
                    { time: "13:00", title: "åˆé¤", desc: "åœ’å…§é¤å»³ æˆ– åˆ¥åºœå†·éºµ èƒ¡æœˆ", icon: "fa-utensils" },
                    { time: "14:30", title: "åˆ¥åºœçºœè»Š (é¶´è¦‹å²³)", desc: "ä¸Šå±±çœ‹éœ§å†°èˆ‡ç©é›ª (å‚™æ‰‹å¥—å¸½å­)", icon: "fa-snowflake", link: "Beppu Ropeway" },
                    { time: "17:00", title: "å…«å¹¡ç«ˆé–€ç¥ç¤¾", desc: "é¬¼æ»…ä¹‹åˆƒç™¼æºåœ°ï¼Œçœ‹ç¹ªé¦¬", icon: "fa-torii-gate", link: "Hachiman Kamado Shrine" },
                    { time: "æ™šé¤", title: "é¾œæ­£å£½å¸ / æ±æ´‹è»’", desc: "é¾œæ­£ä¸èƒ½é ç´„ï¼Œå»ºè­° 17:00 å‰æŠ½è™Ÿç¢¼ç‰Œ", icon: "fa-fish" }
                ]
            },
            {
                date: "02/03 (äºŒ)",
                title: "Day 7: é–€å¸æ¸¯éµé“éŠ & è¿”ç¦å²¡",
                area: "åŒ—ä¹å·/ç¦å²¡",
                route: "https://www.google.com/maps/dir/AMANEK+Beppu+YULA-RE/Kyushu+Railway+History+Museum/Mojiko+Retro/Hakata+Station/JR+Kyushu+Hotel+Blossom+Hakata+Central",
                mapFocus: "Mojiko Retro",
                events: [
                    { time: "09:30", title: "å‰å¾€é–€å¸æ¸¯", desc: "è»Šç¨‹ç´„ 1.5 - 2 å°æ™‚", icon: "fa-car" },
                    { time: "11:30", title: "ä¹å·éµé“ç´€å¿µé¤¨", desc: "å¿…ç©ï¼šè¿·ä½ ç«è»Šé§•é§›é«”é©—", icon: "fa-train", link: "Kyushu Railway History Museum" },
                    { time: "13:00", title: "åˆé¤: ç‡’å’–å“©", desc: "Princess Phi Phi æˆ– Bear Fruits", icon: "fa-bowl-rice" },
                    { time: "14:30", title: "é–€å¸æ¸¯æ‡·èˆŠå€", desc: "è—ç¿¼æ©‹é–‹åˆã€é¦™è•‰äººåˆç…§", icon: "fa-camera", link: "Mojiko Retro" },
                    { time: "18:00", title: "é‚„è»Š (åšå¤šç«™æ±)", desc: "åœ°å€ï¼šç¦å²¡å¸‚åšå¤šåŒºæ±å…‰1-4-10", icon: "fa-check", alert: "important", link: "ç¦å²¡å¸‚åšå¤šåŒºæ±å…‰1-4-10" },
                    { time: "ä½å®¿", title: "JR Kyushu Hotel Blossom", desc: "åšå¤šä¸­å¤® (åšå¤šç«™å°é¢)", icon: "fa-hotel" }
                ]
            },
            {
                date: "02/04 (ä¸‰)",
                title: "Day 8: ç§‘å­¸é¤¨ & å¤©ç¥è³¼ç‰© (ç„¡è»Š)",
                area: "ç¦å²¡å¤©ç¥",
                route: "https://www.google.com/maps/dir/JR+Kyushu+Hotel+Blossom+Hakata+Central/Fukuoka+City+Science+Museum/Hyotan+Sushi/Mina+Tenjin/ShinShin+Ramen+Tenjin",
                mapFocus: "Mina Tenjin",
                events: [
                    { time: "10:00", title: "ç¦å²¡å¸‚ç§‘å­¸é¤¨", desc: "å…­æœ¬æ¾ç«™ã€‚ç„¡é‡åŠ›è¨“ç·´å™¨ã€äº’å‹•è£ç½®", icon: "fa-flask", link: "Fukuoka City Science Museum" },
                    { time: "12:30", title: "è‘«è˜†å£½å¸ (Hyotan)", desc: "åˆé–“å¥—é¤CPå€¼é«˜ï¼Œæ´»è»Šè¦/æ˜Ÿé°»", icon: "fa-sushi", link: "Hyotan Sushi" },
                    { time: "14:30", title: "Mina Tenjin", desc: "Coca, Uniqlo, Loft (é£¯åº—å°é¢)", icon: "fa-bag-shopping" },
                    { time: "17:00", title: "å¤©ç¥åœ°ä¸‹è¡—", desc: "Bake Cheese Tart, Salut! é›œè²¨", icon: "fa-store" },
                    { time: "æ™šé¤", title: "ShinShin æ‹‰éºµ", desc: "å¤©ç¥æœ¬åº—ï¼Œç´°éºµæ¸…ç”œæ¹¯é ­", icon: "fa-bowl-rice" }
                ]
            },
            {
                date: "02/05 (å››)",
                title: "Day 9: é‹¼å½ˆèˆ‡åšå¤šæ¼«éŠ",
                area: "ç¦å²¡åšå¤š",
                route: "https://www.google.com/maps/dir/JR+Kyushu+Hotel+Blossom+Hakata+Central/LaLaport+Fukuoka/Kushida+Shrine/Canal+City+Hakata/Hanamidori+Hakata+Station",
                mapFocus: "LaLaport Fukuoka",
                events: [
                    { time: "10:00", title: "LaLaport ç¦å²¡", desc: "1:1 RX-93ff é‹¼å½ˆ (æ•´é»æœƒå‹•)ã€Jump Shop", icon: "fa-robot", link: "LaLaport Fukuoka", highlight: true },
                    { time: "13:00", title: "åˆé¤", desc: "LaLaport ç¾é£Ÿè¡— (ä¹…ç•™ç±³æ‹‰éºµ/é‡‘å­åŠä¹‹åŠ©)", icon: "fa-utensils" },
                    { time: "15:00", title: "æ«›ç”°ç¥ç¤¾", desc: "çœ‹å·¨å¤§å±±ç¬ ï¼Œé€›å·ç«¯é€šå•†åº—è¡—", icon: "fa-torii-gate", link: "Kushida Shrine" },
                    { time: "17:30", title: "åšå¤šé‹æ²³åŸ", desc: "çœ‹éŸ³æ¨‚æ°´èˆç§€", icon: "fa-water" },
                    { time: "æ™šé¤", title: "åšå¤šè¯å‘³é³¥", desc: "æ°´ç‚Šé›è‚‰é‹ï¼Œè† åŸè›‹ç™½æ»¿æ»¿", icon: "fa-pot-food", link: "Hanamidori" }
                ]
            },
            {
                date: "02/06 (äº”)",
                title: "Day 10: é‡è¿”æ²–ç¹©",
                area: "ç¦å²¡ -> æ²–ç¹©",
                route: "https://www.google.com/maps/dir/JR+Kyushu+Hotel+Blossom+Hakata+Central/Hakata+Station/Fukuoka+Airport/Naha+Airport/THE+NEST+HOTEL+NAHA",
                mapFocus: "Hakata Station",
                events: [
                    { time: "ä¸Šåˆ", title: "ç¡é£½ / åšå¤šç«™", desc: "è²·åŠªåŠªé› (å†·ç‚¸é›) ç•¶é»å¿ƒ", icon: "fa-bed" },
                    { time: "åˆé¤", title: "åšå¤šç«™ç‰›èˆŒ / ç‰›è…¸é‹", desc: "Tanya HAKATA æˆ– Oyama", icon: "fa-utensils" },
                    { time: "15:30", title: "å‰å¾€ç¦å²¡æ©Ÿå ´", desc: "åœ‹å…§ç·šæœ€å¾Œæ¡è²· (æ˜å¤ªå­ä»™è²)", icon: "fa-plane-departure" },
                    { time: "17:55", title: "èµ·é£› FUK -> OKA", desc: "19:50 æŠµé”æ²–ç¹©ï¼Œæ­è¨ˆç¨‹è»Šå›é£¯åº—", icon: "fa-plane-arrival" },
                    { time: "æ™šé¤", title: "å±…é…’å±‹ / A&W", desc: "é£¯åº—é™„è¿‘è¦“é£Ÿ", icon: "fa-beer" }
                ]
            },
            {
                date: "02/07 (å…­)",
                title: "Day 11: ç‰§å¿—å¸‚å ´æµ·é®®å®´",
                area: "æ²–ç¹©é‚£éœ¸",
                route: "https://www.google.com/maps/dir/THE+NEST+HOTEL+NAHA/Naminoue+Shrine/Makishi+Public+Market/Kokusai-dori/Umikaji+Terrace+Senagajima",
                mapFocus: "Makishi Public Market",
                events: [
                    { time: "10:00", title: "æ³¢ä¸Šå®®", desc: "æµ·é‚Šç¥ç¤¾ï¼Œè²·æ›¸åŒ…å¾¡å®ˆ", icon: "fa-torii-gate", link: "Naminoue Shrine" },
                    { time: "12:00", title: "ç‰§å¿—å…¬è¨­å¸‚å ´", desc: "1FæŒ‘æµ·é®®(å¤œå…‰è²/åˆºèº«)ï¼Œ2Fä»£å®¢æ–™ç†", icon: "fa-fish", link: "Makishi Public Market", highlight: true },
                    { time: "14:30", title: "åœ‹éš›é€š", desc: "å”å‰è¨¶å¾·ã€Calbee+ ç¾ç‚¸è–¯æ¢", icon: "fa-bag-shopping" },
                    { time: "17:00", title: "ç€¨é•·å³¶", desc: "Umikaji Terrace çœ‹é£›æ©Ÿé™è½èˆ‡å¤•é™½", icon: "fa-plane" },
                    { time: "æ™šé¤", title: "å¹¸ç¦é¬†é¤… / å‚‘å…‹ç‰›æ’", desc: "çœ‹å¤•é™½åƒé¬†é¤… æˆ– å›å¸‚å€åƒè‚‰", icon: "fa-utensils" }
                ]
            },
            {
                date: "02/08 (æ—¥)",
                title: "Day 12: é£¯ç³°èˆ‡å›å®¶",
                area: "æ­¸é€”",
                route: "https://www.google.com/maps/dir/THE+NEST+HOTEL+NAHA/Naha+Airport",
                mapFocus: "Naha Airport",
                events: [
                    { time: "09:30", title: "é€€æˆ¿å‰å¾€æ©Ÿå ´", desc: "æ­è¨ˆç¨‹è»Š", icon: "fa-taxi" },
                    { time: "10:30", title: "è±¬è‚‰è›‹é£¯ç³° (Potama)", desc: "åœ‹å…§ç·šèˆªå»ˆï¼Œå¿…åƒç‚¸è¦å£å‘³", icon: "fa-rice-cracker" },
                    { time: "11:55", title: "èµ·é£› CI 0121", desc: "OKA -> TPE", icon: "fa-plane-departure", highlight: true }
                ]
            }
        ];

        // --- Guide Content ---
        const guideData = [
            {
                region: "æ²–ç¹© (Okinawa)",
                anchor: "guide-okinawa",
                items: [
                    {
                        title: "ç¾éº—æµ·æ°´æ—é¤¨",
                        mapQuery: "Okinawa Churaumi Aquarium",
                        hours: "08:30 - 18:30 (å¤å­£è‡³20:00)",
                        closed: "ç„¡ä¼‘ (12æœˆç¬¬ä¸€é€±ä¸‰å››ä¼‘åœ’)",
                        content: "æ“æœ‰ä¸–ç•Œç´šçš„ã€Œé»‘æ½®ä¹‹æµ·ã€å·¨å¤§æ°´æ§½èˆ‡é¯¨é¯Šï¼Œæˆ¶å¤–æœ‰å…è²»æµ·è±šç§€èˆ‡æµ·é¾œé¤¨ï¼Œé©åˆæ¬£è³å¤§è‡ªç„¶çš„å®å‰ã€‚"
                    },
                    {
                        title: "DMM Kariyushi æ°´æ—é¤¨",
                        mapQuery: "DMM Kariyushi Aquarium",
                        hours: "09:00 - 21:00",
                        closed: "ç„¡ä¼‘",
                        content: "ç‰¹è‰²æ˜¯ã€Œäº’å‹•èˆ‡ç§‘æŠ€ã€ã€‚çµåˆè²å…‰æŠ•å½±ï¼Œåœ°æ¿æœ‰é€æ˜ç»ç’ƒå¯çœ‹ä¸‹æ–¹æ°´æ§½ï¼Œé‚„å¯ä»¥è¿‘è·é›¢è§¸æ‘¸èˆ‡é¤µé£Ÿæ¨¹æ‡¶ã€æ°´è±šç­‰å‹•ç‰©ã€‚"
                    },
                    {
                        title: "åè­·é³³æ¢¨åœ’",
                        mapQuery: "Nago Pineapple Park",
                        hours: "10:00 - 17:00",
                        closed: "ç„¡ä¼‘",
                        content: "æ­ä¹˜é€ å‹å¯æ„›çš„ç„¡äººé§•é§›é³³æ¢¨è»Šï¼ˆPineapple Cartï¼‰ç©¿æ¢­åœ¨ç†±å¸¶å¢æ—ä¸­ï¼Œå°å°å­©ä¾†èªªéå¸¸æ–°å¥‡æœ‰è¶£ã€‚åœ’å€å…§é‚„æœ‰æé¾æ¢éšªå€ï¼Œæœ€å¾Œå¯ä»¥åœ¨ä¼´æ‰‹ç¦®å€è©¦åƒå„ç¨®é³³æ¢¨è£½å“ã€‚"
                    },
                    {
                        title: "å¤å®‡åˆ©å³¶",
                        mapQuery: "Kouri Island",
                        hours: "å…¨æ—¥é–‹æ”¾",
                        closed: "ç„¡",
                        content: "è·¨è¶Šå¤å®‡åˆ©å¤§æ©‹ï¼Œè¡Œé§›åœ¨ç¢§è—æµ·é¢ä¹‹ä¸Šï¼Œæ™¯è‰²çµ•ç¾ã€‚å¿…çœ‹å¿ƒå½¢å²© (Heart Rock) æ˜¯è¨±å¤šå»£å‘Šçš„æ‹æ”åœ°ã€‚"
                    },
                    {
                        title: "DINO æé¾å…¬åœ’",
                        mapQuery: "DINO Dinosaur Park Yanbaru Subtropical Forest",
                        hours: "09:00 - 18:00",
                        closed: "ç„¡ä¼‘",
                        content: "ä½æ–¼å¾¡è“å­å¾¡æ®¿åè­·åº—æ—ã€‚ä¿ç•™äº†åŸå§‹çš„ç­†ç­’æ¨¹æ—ï¼Œä¸¦è¨­ç½®äº†è¨±å¤šæœƒå‹•æœƒå«çš„æé¾æ¨¡å‹ã€‚èµ°åœ¨æ­¥é“ä¸Šå½·å½¿é€²å…¥ä¾ç¾…ç´€å…¬åœ’ã€‚"
                    },
                    {
                        title: "ç¾åœ‹æ‘",
                        mapQuery: "American Village Okinawa",
                        hours: "10:00 - 22:00 (ä¾åº—å®¶ä¸åŒ)",
                        closed: "ç„¡ä¼‘",
                        content: "ä½æ–¼ä¸­éƒ¨çš„åŒ—è°·ç”ºï¼Œå……æ»¿ç¾å¼é¢¨æƒ…çš„å»ºç¯‰ç¾¤ã€‚å‚æ™šæ™‚åˆ†åœ¨æ—¥è½æµ·ç˜ (Sunset Beach) çœ‹å¤•é™½éå¸¸æœ‰æ°£æ°›ã€‚"
                    },
                    {
                        title: "Parco City æµ¦æ·»è¥¿æµ·å²¸",
                        mapQuery: "PARCO CITY Urasoe West Coast",
                        hours: "10:00 - 22:00",
                        closed: "ç„¡ä¼‘",
                        content: "æ²–ç¹©æœ€å¤§çš„è³¼ç‰©å•†å ´ï¼Œç·Šé„°è¥¿æµ·å²¸ï¼Œæ“æœ‰çµ•ç¾æµ·æ™¯ã€‚3F æœ‰æµ¦æ·»æœ€å¤§çš„ã€Œå¯¶å¯å¤¢ä¸­å¿ƒã€ã€å‰åœåŠ›ã€Œæ©¡å­å…±å’Œåœ‹ã€ä»¥åŠæ¨‚é«˜å•†åº—ã€‚"
                    },
                    {
                        title: "æ²–ç¹©ä¸–ç•Œæ–‡åŒ–ç‹åœ‹ (ç‰æ³‰æ´)",
                        mapQuery: "Okinawa World",
                        hours: "09:00 - 17:30",
                        closed: "ç„¡ä¼‘",
                        content: "åœ’å€å…§çš„ã€Œç‰æ³‰æ´ã€æ˜¯æ—¥æœ¬ç¬¬äºŒå¤§é˜ä¹³çŸ³æ´ï¼Œå…¨é•· 5 å…¬é‡Œï¼ˆé–‹æ”¾åƒè§€ 890 å…¬å°ºï¼‰ï¼Œæ™¯è§€å£¯éº—ä¸”çµ‚å¹´æ¶¼çˆ½ã€‚"
                    },
                    {
                        title: "ç³»æ»¿é­šå¸‚å ´",
                        mapQuery: "Itoman Fish Market",
                        hours: "09:00 - 18:00",
                        closed: "ç„¡ä¼‘",
                        content: "è·é›¢é‚£éœ¸æ©Ÿå ´ä¸é çš„æµ·é®®å¤©å ‚ã€‚é€™è£¡çš„æµ·é®®åƒ¹æ ¼è¦ªæ°‘ï¼Œæ¨è–¦è³¼è²·ç„—çƒ¤é¾è¦ã€æµ·è†½é†¬ç‡’æ‰‡è²ã€ç”Ÿé­šç‰‡ã€‚"
                    },
                    {
                        title: "ç€¨é•·å³¶ Umikaji Terrace",
                        mapQuery: "Umikaji Terrace Senagajima",
                        hours: "10:00 - 21:00",
                        closed: "ç„¡ä¼‘",
                        content: "ä¾å±±è€Œå»ºçš„ç´”ç™½å»ºç¯‰ç¾¤ï¼Œæœ‰ã€Œæ²–ç¹©å°å¸Œè‡˜ã€ä¹‹ç¨±ã€‚é€™è£¡èšé›†äº†è¨±å¤šé¤å»³èˆ‡ç”œé»åº—ã€‚æœ€å¤§çš„äº®é»æ˜¯å¯ä»¥è¿‘è·é›¢è§€çœ‹é‚£éœ¸æ©Ÿå ´çš„é£›æ©Ÿèµ·é™ã€‚"
                    },
                    {
                        title: "æ³¢ä¸Šå®®",
                        mapQuery: "Naminoue Shrine",
                        hours: "å…¨æ—¥é–‹æ”¾ (ç¤¾å‹™æ‰€ 09:00-17:00)",
                        closed: "ç„¡",
                        content: "é‚£éœ¸å¸‚å€å”¯ä¸€çš„æ²™ç˜æ—ï¼Œè³ç«‹åœ¨æ‡¸å´–ä¸Šçš„ç´…ç“¦ç¥ç¤¾ï¼Œæ˜¯æ²–ç¹©å…«ç¤¾ä¹‹é¦–ã€‚å»ºè­°èµ°åˆ°æ—é‚Šçš„ã€Œæ³¢ä¹‹ä¸Šè·¨æµ·å¤§æ©‹ã€äººè¡Œé“æ‹ç…§ã€‚"
                    },
                    {
                        title: "ç‰§å¿—å…¬è¨­å¸‚å ´",
                        mapQuery: "Makishi Public Market",
                        hours: "08:00 - 21:00",
                        closed: "æ¯æœˆç¬¬å››å€‹é€±æ—¥",
                        content: "è¢«ç¨±ç‚ºã€Œé‚£éœ¸çš„å»šæˆ¿ã€ã€‚æ°£æ°›ç†±é¬§ï¼Œä¸€æ¨“è²©å”®è‰²å½©é®®è±”çš„æ²–ç¹©é­šé¡ã€çŸ³å£ç‰›ï¼›äºŒæ¨“å‰‡æä¾›ä»£å®¢æ–™ç†æœå‹™ã€‚"
                    }
                ]
            },
            {
                region: "ä¹å· (Kyushu)",
                anchor: "guide-kyushu",
                items: [
                    {
                        title: "ä¹å·è‡ªç„¶å‹•ç‰©åœ’",
                        mapQuery: "Kyushu Natural Zoological Park African Safari",
                        hours: "09:30 - 16:00 (11æœˆ-2æœˆ)",
                        closed: "ç„¡ä¼‘",
                        content: "African Safari æœ€å¤§çš„ç‰¹è‰²æ˜¯å¯ä»¥æ­ä¹˜ Jungle Bus (å¢æ—å·´å£«) é€²å…¥é‡ç”Ÿå‹•ç‰©å€ã€‚ä½ å¯ä»¥ç”¨å¤¾å­ç›´æ¥é¤µé£Ÿç…å­ã€å¤§è±¡å’Œé»‘ç†Šã€‚"
                    },
                    {
                        title: "åˆ¥åºœçºœè»Š (é¶´è¦‹å²³)",
                        mapQuery: "Beppu Ropeway",
                        hours: "09:00 - 17:00",
                        closed: "ç„¡ä¼‘",
                        content: "æ­ä¹˜å¤§å‹çºœè»Šåªéœ€ 10 åˆ†é˜å³å¯æŠµé”æ¨™é«˜ 1300 å…¬å°ºçš„å±±é ‚ã€‚å†¬å¤©éå¸¸æœ‰æ©Ÿæœƒçœ‹åˆ°æ¨¹æä¸Šçµæ»¿ã€Œéœ§æ·ã€çš„éŠ€ç™½ä¸–ç•Œã€‚"
                    },
                    {
                        title: "åˆ¥åºœåœ°ç„å·¡ç¦®",
                        mapQuery: "Umi Jigoku",
                        hours: "08:00 - 17:00",
                        closed: "ç„¡ä¼‘",
                        content: "æ¨è–¦åƒè§€ï¼šæµ·åœ°ç„ (å¿…å»ï¼Œè¦æ¨¡æœ€å¤§)ã€ç¶åœ°ç„ (CPå€¼é«˜ï¼Œå¯å–æº«æ³‰æ°´)ã€è¡€æ± åœ°ç„ (é®®ç´…è‰²æ³‰æ°´)ã€‚"
                    },
                    {
                        title: "å…«å¹¡ç«ˆé–€ç¥ç¤¾",
                        mapQuery: "Hachiman Kamado Shrine",
                        hours: "å…¨æ—¥é–‹æ”¾ (ç¤¾å‹™æ‰€ 09:00-17:00)",
                        closed: "ç„¡",
                        content: "ä½æ–¼åˆ¥åºœï¼Œå› èˆ‡å‹•æ¼«ã€Šé¬¼æ»…ä¹‹åˆƒã€‹ä¸»è§’å§“æ°ç›¸åŒï¼Œä¸”æœ‰è¨±å¤šå‚³èªªèˆ‡åŠ‡æƒ…å»åˆï¼Œæˆç‚ºç²‰çµ²æœè–åœ°ã€‚"
                    },
                    {
                        title: "ä¹å·éµé“ç´€å¿µé¤¨",
                        mapQuery: "Kyushu Railway History Museum",
                        hours: "09:00 - 17:00",
                        closed: "æ¯æœˆç¬¬äºŒå€‹é€±ä¸‰ (è‹¥é‡å‡æ—¥å‰‡éš”æ—¥ä¼‘)",
                        content: "ä½æ–¼é–€å¸æ¸¯ç«™æ—ã€‚æˆ¶å¤–å±•ç¤ºäº†è¨±å¤šå¼•é€€çš„ç¶“å…¸ç«è»Šé ­ã€‚æœ€å—å­©å­æ­¡è¿çš„æ˜¯ã€Œè¿·ä½ éµé“å…¬åœ’ã€ï¼Œå¯ä»¥è¦ªè‡ªé§•é§›è¿·ä½ ç«è»Šã€‚"
                    },
                    {
                        title: "é–€å¸æ¸¯æ‡·èˆŠå€",
                        mapQuery: "Mojiko Retro",
                        hours: "å…¨æ—¥é–‹æ”¾",
                        closed: "ç„¡",
                        content: "å……æ»¿å¤§æ­£æµªæ¼«é¢¨æ ¼çš„ç´…ç£šå»ºç¯‰ç¾¤ã€‚å¿…çœ‹é–€å¸æ¸¯è»Šç«™ã€è—ç¿¼æ©‹ (æ•´é»æœƒé–‹åˆ)ã€‚å¿…åƒç‡’å’–å“© (Baked Curry)ã€‚"
                    },
                    {
                        title: "LaLaport ç¦å²¡",
                        mapQuery: "LaLaport Fukuoka",
                        hours: "10:00 - 21:00",
                        closed: "ç„¡ä¼‘",
                        content: "ä¹å·æœ€æ–°çš„è³¼ç‰©åœ°æ¨™ã€‚é–€å£çŸ—ç«‹è‘—ä¸–ç•Œæœ€é«˜çš„ 1:1 RX-93ff Î½ é‹¼å½ˆç«‹åƒã€‚æ¯å¤©æ•´é»æœƒæœ‰é ­éƒ¨èˆ‡æ‰‹éƒ¨å‹•ä½œçš„æ¼”å‡ºã€‚"
                    },
                    {
                        title: "ç¦å²¡å¸‚ç§‘å­¸é¤¨",
                        mapQuery: "Fukuoka City Science Museum",
                        hours: "09:30 - 18:00",
                        closed: "æ¯é€±äºŒ (é‡å‡æ—¥å‰‡éš”æ—¥ä¼‘)ã€å¹´æœ«å¹´åˆ",
                        content: "ä½æ–¼å…­æœ¬æ¾è”¦å±‹æ›¸åº—æ¨“ä¸Šã€‚é¤¨å…§æœ‰è¨±å¤šé—œæ–¼å¤ªç©ºã€äººé«”ã€ç‰©ç†çš„äº’å‹•è£ç½®ï¼Œé‚„æœ‰æœ€æ–°çš„å¤©è±¡å„€ã€‚"
                    },
                    {
                        title: "TeamLab Forest ç¦å²¡",
                        mapQuery: "TeamLab Forest Fukuoka",
                        hours: "å¹³æ—¥ 11:00-20:00 / å‡æ—¥ 10:00-20:00",
                        closed: "ç„¡ä¼‘",
                        content: "ä½æ–¼ç¦å²¡å·¨è›‹æ—çš„ E-ZO FUKUOKA å…§ã€‚å¼·èª¿ã€Œæ•æ‰ã€èˆ‡ã€Œé‹å‹•ã€ï¼Œéœ€è¦è·³èºã€è¸©è¸çš„äº’å‹•å…‰å½±ï¼Œæ˜¯è®“å­©å­æ”¾é›»çš„å¥½åœ°æ–¹ã€‚"
                    },
                    {
                        title: "Mina Tenjin",
                        mapQuery: "Mina Tenjin Fukuoka",
                        hours: "10:00 - 20:00",
                        closed: "ç„¡ä¼‘",
                        content: "ä½æ–¼å¤©ç¥åŒ—å´ï¼Œ2023å¹´é‡æ–°æ”¹è£ã€‚é‡é»å“ç‰Œï¼š1F UNIQLO/JINS, 2F GU, 3F COCA, 4F Loftã€‚"
                    },
                    {
                        title: "æ«›ç”°ç¥ç¤¾",
                        mapQuery: "Kushida Shrine",
                        hours: "04:00 - 22:00",
                        closed: "ç„¡",
                        content: "åšå¤šçš„ç¸½é®å®ˆã€‚é€™è£¡å±•ç¤ºè‘—åšå¤šç¥‡åœ’å±±ç¬ ç¥­ä½¿ç”¨çš„å·¨å¤§è£é£¾å±±ç¬ ï¼Œéå¸¸å£¯è§€ã€‚"
                    },
                    {
                        title: "åšå¤šé‹æ²³åŸ",
                        mapQuery: "Canal City Hakata",
                        hours: "10:00 - 21:00",
                        closed: "ç„¡ä¼‘",
                        content: "ä¸€æ¢é‹æ²³è²«ç©¿å…¶ä¸­çš„å¤§å‹è¤‡åˆå•†å ´ï¼Œå»ºç¯‰è‰²å½©ç¹½ç´›ã€‚ä¸­å¤®çš„å¤ªé™½å»£å ´æ¯å¤©å®šæ™‚æœƒæœ‰éŸ³æ¨‚æ°´èˆç§€ã€‚"
                    }
                ]
            },
             {
                region: "æ—…éŠå°è²¼å£« (Tips)",
                anchor: "guide-tips",
                items: [
                    {
                        title: "æ²–ç¹©è‡ªé§•å°æ’‡æ­¥",
                        hours: "è¡Œè»Šæ³¨æ„",
                        content: "1. <b>å³é§•ï¼š</b> é›¨åˆ·å’Œæ–¹å‘ç‡ˆè·Ÿå°ç£ç›¸åï¼Œè¨˜å¾—å£è¨£ã€Œé å·¦é–‹ã€ã€‚<br>2. <b>å°èˆªï¼š</b> è¼¸å…¥ MapCode æœ€æº–ç¢ºã€‚<br>3. <b>ç´…ç¶ ç‡ˆï¼š</b> æ—¥æœ¬ç´…ç‡ˆé€šå¸¸ä¸èƒ½å·¦è½‰ï¼Œéœ€ç­‰ç¶ ç‡ˆç®­é ­ã€‚<br>4. <b>åœè»Šï¼š</b> å‹™å¿…åœåœ¨æ”¶è²»åœè»Šå ´ï¼Œä¸å¯è·¯é‚Šé•åœã€‚"
                    }
                ]
            }
        ];

        // --- Shopping Data ---
        const shoppingData = [
            {
                brand: "3COINS+Plus",
                icon: "fa-coins",
                stores: [
                    { area: "æ²–ç¹©", name: "é‚£éœ¸ Main Place åº— (1F)", desc: "æ–°éƒ½å¿ƒ San-A Naha Main Place", link: "3COINS+plus Naha Main Place" },
                    { area: "æ²–ç¹©", name: "æ°¸æ—ºå¤¢æ¨‚åŸä¾†å®¢å¤¢åº— (1F)", desc: "Aeon Mall Okinawa Rycom", link: "3COINS+plus Aeon Mall Okinawa Rycom" },
                    { area: "æ²–ç¹©", name: "æµ¦æ·»è¥¿æµ·å²¸ Parco City åº— (1F)", desc: "SAN-A Parco City", link: "3COINS+plus Okinawa Parco City" }
                ]
            },
            {
                brand: "coca",
                icon: "fa-shirt",
                stores: [
                    { area: "ç¦å²¡", name: "LaLaport ç¦å²¡åº— (3F)", desc: "10:00-21:00", link: "coca LaLaport Fukuoka" },
                    { area: "ç¦å²¡", name: "åšå¤šä¸¸äº•åº— (4F)", desc: "åšå¤šç«™æ— 10:00-21:00", link: "coca Hakata Marui" },
                    { area: "ç¦å²¡", name: "Mina Tenjin (3F)", desc: "å¤©ç¥é€›è¡—å¿…å»ï¼Œå¹³åƒ¹æ™‚å°š", link: "Mina Tenjin Fukuoka" },
                    { area: "æ²–ç¹©", name: "æµ¦æ·» Parco City åº— (2F)", desc: "SAN-A Parco City", link: "COCA Parco City" },
                    { area: "æ²–ç¹©", name: "æ°¸æ—ºå¤¢æ¨‚åŸä¾†å®¢å¤¢åº— (1F)", desc: "Aeon Mall Okinawa Rycom", link: "coca Aeon Mall Okinawa Rycom" }
                ]
            },
            {
                brand: "niko and ...",
                icon: "fa-bag-shopping",
                stores: [
                    { area: "ç¦å²¡", name: "LaLaport ç¦å²¡åº— (1F)", desc: "10:00-21:00", link: "niko and ... LaLaport Fukuoka" },
                    { area: "æ²–ç¹©", name: "é‚£éœ¸ Main Place åº— (1F)", desc: "10:00-22:00", link: "niko and ... Naha Main Place" },
                    { area: "æ²–ç¹©", name: "æµ¦æ·» Parco City åº—", desc: "10:00-22:00", link: "niko and ... Urasoe West Coast Parco City" }
                ]
            },
            {
                brand: "BREEZE",
                icon: "fa-child-reaching",
                stores: [
                    { area: "æ²–ç¹©", name: "æ°¸æ—ºå¤¢æ¨‚åŸä¾†å®¢å¤¢åº— (4F)", desc: "Aeon Mall Okinawa Rycom", link: "BREEZE Aeon Mall Okinawa Rycom" },
                    { area: "æ²–ç¹©", name: "æµ¦æ·» Parco City åº— (3F)", desc: "SAN-A Parco City", link: "BREEZE Okinawa Parco City" },
                    { area: "æ²–ç¹©", name: "é‚£éœ¸ Main Place åº— (2F)", desc: "San-A Naha Main Place", link: "BREEZE Naha Main Place" }
                ]
            },
            {
                brand: "HOKA",
                icon: "fa-shoe-prints",
                stores: [
                    { area: "ç¦å²¡", name: "HOKA Fukuoka (å¤§å)", desc: "å“ç‰Œå°ˆè³£åº—ï¼Œæ¬¾å¼æœ€é½Šå…¨", link: "HOKA KA ONE ONE Fukuoka" },
                    { area: "æ²–ç¹©", name: "ABC-MART Grand Stage", desc: "Parco City 3F / Main Place 2F", link: "ABC-MART GRAND STAGE San-A Urasoe West Coast PARCO CITY" }
                ]
            },
            {
                brand: "On Running",
                icon: "fa-cloud",
                stores: [
                    { area: "ç¦å²¡", name: "ABC-MART Grand Stage", desc: "å¤©ç¥å¤§ååº—ï¼Œè²¨æºå……è¶³", link: "ABC-MART GRAND STAGE Fukuoka Daimyo" },
                    { area: "ç¦å²¡", name: "Step Sports", desc: "å¤©ç¥å¤§åï¼Œå°ˆæ¥­è·‘é‹åº—", link: "Step Sports Fukuoka" },
                    { area: "æ²–ç¹©", name: "Sports Depo", desc: "Parco City / è±å´ (è¿‘Outlet)", link: "Sports Depo Ameku" }
                ]
            }
        ];

        // --- Food Map Data ---
        const foodData = [
            {
                area: "æ²–ç¹© - åŒ—éƒ¨ (Okinawa North)",
                spots: [
                    { 
                        name: "ç™¾å¹´å¤å®¶ å¤§å®¶ (Ufuya)", 
                        type: "é˜¿å¤è±¬", 
                        icon: "fa-house-chimney", 
                        desc: "å‚³çµ±å¤æ°‘å®¶å»ºç¯‰ï¼Œæ°£æ°›æ¥µä½³çš„é˜¿å¤è±¬æ¶®æ¶®é‹èˆ‡æ²–ç¹©éºµ", 
                        link: "Ufuya Okinawa",
                        price: "Â¥2,000 ~ Â¥5,000",
                        reserve: "https://www.tablecheck.com/shops/ufuya/reserve?utm_source=google"
                    },
                    { 
                        name: "Captain Kangaroo", 
                        type: "æ¼¢å ¡", 
                        icon: "fa-burger", 
                        desc: "åè­·äººæ°£No.1æ¼¢å ¡ï¼Œæ’éšŠååº—", 
                        link: "Captain Kangaroo Hamburger",
                        price: "Â¥1,000 ~ Â¥2,000"
                    },
                    { 
                        name: "å¤å®‡åˆ©è¦è¦é£¯", 
                        type: "è¦é£¯", 
                        icon: "fa-shrimp", 
                        desc: "å¿…åƒè’œé¦™å¥¶æ²¹è¦é¤è»Š", 
                        link: "Kouri Shrimp",
                        price: "Â¥1,500 ~ Â¥2,000"
                    },
                    { 
                        name: "å²¸æœ¬é£Ÿå ‚ (Kishimoto Soba)", 
                        type: "éºµé£Ÿ", 
                        icon: "fa-bowl-rice", 
                        desc: "ç™¾å¹´è€åº—ï¼Œæœ¨ç°éºµæ¢æœ‰åš¼å‹", 
                        link: "Kishimoto Soba",
                        price: "Â¥800 ~ Â¥1,000"
                    },
                    { 
                        name: "ç‡’è‚‰æœ¬éƒ¨ç‰§å ´", 
                        type: "ç‡’è‚‰", 
                        icon: "fa-fire", 
                        desc: "æ²–ç¹©å’Œç‰›æŒ‡å®šåº—", 
                        link: "Motobu Ranch",
                        price: "Â¥3,000 ~ Â¥8,000",
                        reserve: "https://motobu-farm.com/restaurant/"
                    }
                ]
            },
            {
                area: "æ²–ç¹© - ä¸­éƒ¨ (Okinawa Central)",
                spots: [
                    { 
                        name: "oHacorte æ¸¯å·åº—", 
                        type: "ç”œé»", 
                        icon: "fa-cake-candles", 
                        desc: "å¤–äººä½å®…å€çš„å¤¢å¹»æ°´æœå¡”", 
                        link: "oHacorte Minatogawa",
                        price: "Â¥1,000 ~ Â¥2,000"
                    },
                    { 
                        name: "æ•˜æ•˜è‹‘ç‡’è‚‰ (Parco City)", 
                        type: "ç‡’è‚‰", 
                        icon: "fa-fire", 
                        desc: "ç„¡æ•µæµ·æ™¯ç‡’è‚‰ï¼Œåˆé–“å¥—é¤CPå€¼é«˜", 
                        link: "Jojoen Parco City",
                        price: "Â¥3,000 ~ Â¥10,000",
                        reserve: "https://www.jojoen.co.jp/shop/jojoen/parcocity/"
                    },
                    { 
                        name: "A&W æ¼¢å ¡ (ç‰§æ¸¯åº—)", 
                        type: "æ¼¢å ¡", 
                        icon: "fa-burger", 
                        desc: "ç¾å¼é¢¨æ ¼ï¼Œå¿…å–éº¥æ ¹æ²™å£«", 
                        link: "A&W Makiminato",
                        price: "Â¥1,000 ~ Â¥1,500"
                    },
                    { 
                        name: "King Tacos (é•·ç”°åº—)", 
                        type: "å¡”å¯é£¯", 
                        icon: "fa-bowl-rice", 
                        desc: "å¡”å¯é£¯å‰µå§‹åº—ï¼Œä»½é‡å·¨å¤§", 
                        link: "King Tacos Nagata",
                        price: "Â¥800 ~ Â¥1,200"
                    },
                    { 
                        name: "Taco Rice Cafe Kijimuna", 
                        type: "å¡”å¯é£¯", 
                        icon: "fa-bowl-rice", 
                        desc: "æ­å§†è›‹å¡”å¯é£¯ (ç¾åœ‹æ‘)", 
                        link: "Taco Rice Cafe Kijimuna",
                        price: "Â¥1,000 ~ Â¥1,500"
                    }
                ]
            },
            {
                area: "æ²–ç¹© - å—éƒ¨ (Okinawa South)",
                spots: [
                    { 
                        name: "å‚‘å…‹ç‰›æ’ (Jack's Steak House)", 
                        type: "ç‰›æ’", 
                        icon: "fa-utensils", 
                        desc: "ç¾å¼è€åº—ï¼Œå£æ„Ÿè»Ÿå«©", 
                        link: "Jack's Steak House",
                        price: "Â¥2,500 ~ Â¥4,000"
                    },
                    { 
                        name: "ç‰§å¿—å…¬è¨­å¸‚å ´", 
                        type: "æµ·é®®", 
                        icon: "fa-fish", 
                        desc: "ç¾æŒ‘ç¾ç…®ï¼Œå¤œå…‰è²/é¾è¦", 
                        link: "Makishi Public Market",
                        price: "Â¥3,000 ~ Â¥8,000"
                    },
                    { 
                        name: "è±¬è‚‰è›‹é£¯ç³° (Potama)", 
                        type: "é£¯ç³°", 
                        icon: "fa-rice-cracker", 
                        desc: "é‚£éœ¸æ©Ÿå ´/åœ‹éš›é€šï¼Œç‚¸è¦å£å‘³", 
                        link: "Potama Naha Airport",
                        price: "Â¥500 ~ Â¥1,000"
                    },
                    { 
                        name: "æš–æš® / é€šå ‚æ‹‰éºµ", 
                        type: "æ‹‰éºµ", 
                        icon: "fa-bowl-rice", 
                        desc: "æ²–ç¹©äººæ°£æ‹‰éºµä»£è¡¨", 
                        link: "Ramen Danbo Naha",
                        price: "Â¥900 ~ Â¥1,200"
                    },
                    { 
                        name: "ç³»æ»¿é­šå¸‚å ´", 
                        type: "æµ·é®®", 
                        icon: "fa-fish", 
                        desc: "æˆ¶å¤–åƒç„—çƒ¤é¾è¦ã€æµ·è†½", 
                        link: "Itoman Fish Market",
                        price: "Â¥1,500 ~ Â¥3,000"
                    },
                    { 
                        name: "C&C Breakfast", 
                        type: "æ—©åˆé¤", 
                        icon: "fa-mug-hot", 
                        desc: "åœ‹éš›é€šäººæ°£èˆ’èŠ™è•¾é¬†é¤…", 
                        link: "C&C Breakfast Okinawa",
                        price: "Â¥1,500 ~ Â¥2,000"
                    },
                    { 
                        name: "Blue Seal å†°æ·‡æ·‹", 
                        type: "ç”œé»", 
                        icon: "fa-ice-cream", 
                        desc: "æ²–ç¹©å¿…åƒï¼Œæ¨è–¦é¹½é‡‘æ¥šç³•å£å‘³", 
                        link: "Blue Seal Okinawa",
                        price: "Â¥400 ~ Â¥800"
                    }
                ]
            },
            {
                area: "ä¹å· - åˆ¥åºœ & é–€å¸æ¸¯ (Beppu & Mojiko)",
                spots: [
                    { 
                        name: "æ±æ´‹è»’ (Toyoken)", 
                        type: "ç‚¸é›", 
                        icon: "fa-drumstick-bite", 
                        desc: "å¤§åˆ†åç‰©ã€Œç‚¸é›å¤©å©¦ç¾…ã€ç™¼æºåœ°", 
                        link: "Toyoken Beppu",
                        price: "Â¥1,500 ~ Â¥2,500"
                    },
                    { 
                        name: "é¾œæ­£è¿´è½‰å£½å¸", 
                        type: "å£½å¸", 
                        icon: "fa-fish", 
                        desc: "åˆ¥åºœCPå€¼æœ€é«˜ï¼Œé­šæ–™è¶…åš", 
                        link: "Kamesho Kururu Sushi",
                        price: "Â¥2,000 ~ Â¥4,000"
                    },
                    { 
                        name: "å‹æ°¸éºµåŒ… (Tomonaga Pan)", 
                        type: "éºµåŒ…", 
                        icon: "fa-bread-slice", 
                        desc: "åˆ¥åºœç™¾å¹´è€åº—ï¼Œå¥¶æ²¹éºµåŒ…", 
                        link: "Tomonaga Pan",
                        price: "Â¥200 ~ Â¥800"
                    },
                    { 
                        name: "åœ°ç„è’¸å·¥æˆ¿ éµè¼ª", 
                        type: "é«”é©—", 
                        icon: "fa-carrot", 
                        desc: "æº«æ³‰è’¸æ°£è’¸ç†Ÿé£Ÿæ", 
                        link: "Jigoku Mushi Kobo Kannawa",
                        price: "Â¥2,000 ~ Â¥3,000"
                    },
                    { 
                        name: "å²¡æœ¬å±‹è³£åº—", 
                        type: "ç”œé»", 
                        icon: "fa-spoon", 
                        desc: "åœ°ç„è’¸å¸ƒä¸å‰µå§‹åº—", 
                        link: "Okamotoya Shop",
                        price: "Â¥400 ~ Â¥800"
                    },
                    { 
                        name: "åˆ¥åºœå†·éºµ èƒ¡æœˆ", 
                        type: "éºµé£Ÿ", 
                        icon: "fa-bowl-rice", 
                        desc: "å£æ„ŸQå½ˆçš„ç‰¹è‰²å†·éºµ", 
                        link: "Kogetsu Cold Noodles",
                        price: "Â¥900 ~ Â¥1,200"
                    },
                    { 
                        name: "é–€å¸æ¸¯ç‡’å’–å“©", 
                        type: "å’–å“©", 
                        icon: "fa-bowl-rice", 
                        desc: "æ¿ƒéƒèµ·å¸ç„—çƒ¤ï¼Œå°å­©æœ€æ„›", 
                        link: "Mojiko Retro Grilled Curry",
                        price: "Â¥1,000 ~ Â¥1,800"
                    }
                ]
            },
            {
                area: "ç¦å²¡ - å¤©ç¥ (Fukuoka Tenjin)",
                spots: [
                    { 
                        name: "æ¥µå‘³è€¶ (Kiwamiya)", 
                        type: "æ¼¢å ¡æ’", 
                        icon: "fa-fire", 
                        desc: "è¶…äººæ°£éµæ¿æ¼¢å ¡æ’ï¼Œéœ€æ’éšŠ", 
                        link: "Kiwamiya Parco Tenjin",
                        price: "Â¥1,500 ~ Â¥2,500"
                    },
                    { 
                        name: "Full Full (å¤©ç¥åº—)", 
                        type: "éºµåŒ…", 
                        icon: "fa-bread-slice", 
                        desc: "æ˜å¤ªå­æ³•åœ‹éºµåŒ…ï¼Œé€›è¡—è£œçµ¦", 
                        link: "Full Full Tenjin",
                        price: "Â¥300 ~ Â¥1,000"
                    },
                    { 
                        name: "stock (Pain Stock)", 
                        type: "éºµåŒ…", 
                        icon: "fa-bread-slice", 
                        desc: "ç¦å²¡æœ€å¼·éºµåŒ…åº—ï¼Œæ˜å¤ªå­éºµåŒ…", 
                        link: "stock Tenjin",
                        price: "Â¥300 ~ Â¥1,200"
                    },
                    { 
                        name: "è‘«è˜†å£½å¸ (Hyotan)", 
                        type: "å£½å¸", 
                        icon: "fa-sushi", 
                        desc: "æ’éšŠååº—ï¼Œæ´»è»Šè¦è¶…é®®ç”œ", 
                        link: "Hyotan Sushi",
                        price: "Â¥2,000 ~ Â¥5,000"
                    },
                    { 
                        name: "ShinShin æ‹‰éºµ", 
                        type: "æ‹‰éºµ", 
                        icon: "fa-bowl-rice", 
                        desc: "åšå¤šç´°éºµï¼Œå£å‘³æ¸…ç”œ", 
                        link: "ShinShin Ramen Tenjin",
                        price: "Â¥900 ~ Â¥1,500"
                    },
                    { 
                        name: "å…ƒç¥–åšå¤šæ˜å¤ªé‡", 
                        type: "è“‹é£¯", 
                        icon: "fa-bowl-rice", 
                        desc: "è±ªè¯æ•´æ¢æ˜å¤ªå­è“‹é£¯", 
                        link: "Ganso Hakata Mentaiju",
                        price: "Â¥2,000 ~ Â¥4,000",
                        reserve: "https://www.mentaiju.com/reserve"
                    }
                ]
            },
            {
                area: "ç¦å²¡ - åšå¤š (Fukuoka Hakata)",
                spots: [
                    { 
                        name: "Il Forno del Mignon", 
                        type: "å¯é Œ", 
                        icon: "fa-bread-slice", 
                        desc: "åšå¤šç«™æ’éšŠå°å¯é Œï¼Œç§¤é‡è³£", 
                        link: "Il Forno del Mignon Hakata",
                        price: "Â¥300 ~ Â¥800"
                    },
                    { 
                        name: "Full Full (åšå¤šåº—)", 
                        type: "éºµåŒ…", 
                        icon: "fa-bread-slice", 
                        desc: "è¿‘åšå¤šé‹æ²³åŸ", 
                        link: "The Full Full Hakata",
                        price: "Â¥300 ~ Â¥1,000"
                    },
                    { 
                        name: "Full Full (æ©Ÿå ´åº—)", 
                        type: "éºµåŒ…", 
                        icon: "fa-bread-slice", 
                        desc: "åœ‹å…§ç·šèˆªå»ˆï¼Œæœ€å¾Œè£œè²¨", 
                        link: "Full Full Fukuoka Airport",
                        price: "Â¥300 ~ Â¥1,000"
                    },
                    { 
                        name: "åšå¤šä¸€é›™", 
                        type: "æ‹‰éºµ", 
                        icon: "fa-bowl-rice", 
                        desc: "æ³¡æ³¡ç³»è±šéª¨ï¼Œæ¹¯é ­è¶…æ¿ƒéƒ", 
                        link: "Hakata Issou",
                        price: "Â¥900 ~ Â¥1,200"
                    },
                    { 
                        name: "åšå¤šè¯å‘³é³¥", 
                        type: "é‹ç‰©", 
                        icon: "fa-pot-food", 
                        desc: "æ°´ç‚Šé›è‚‰é‹ï¼Œè† åŸè›‹ç™½", 
                        link: "Hanamidori",
                        price: "Â¥4,000 ~ Â¥6,000",
                        reserve: "https://www.hanamidori.net/store/archives/8"
                    },
                    { 
                        name: "ç‰›è…¸é‹ Oyama", 
                        type: "é‹ç‰©", 
                        icon: "fa-pot-food", 
                        desc: "åšå¤šåç‰©ï¼Œæ²¹è„‚è±å¯Œ", 
                        link: "Motsunabe Oyama",
                        price: "Â¥2,000 ~ Â¥5,000",
                        reserve: "https://www.motu-ooyama.com/reserve/"
                    },
                    { 
                        name: "åŠªåŠªé›", 
                        type: "ç‚¸é›", 
                        icon: "fa-drumstick-bite", 
                        desc: "å†°è‘—åƒçš„ç‚¸é›ï¼Œä¼´æ‰‹ç¦®", 
                        link: "NuNu Chicken",
                        price: "Â¥1,080 ~ Â¥2,160"
                    }
                ]
            }
        ];

        // --- Taxi Logic ---
        const taxiRates = {
            okinawa: { base: 600, baseKm: 1.2, unitPrice: 100, unitKm: 0.36 },
            fukuoka: { base: 670, baseKm: 1.6, unitPrice: 100, unitKm: 0.27 }
        };

        const commonRoutes = {
            okinawa: [
                { name: "é‚£éœ¸æ©Ÿå ´ â” åœ‹éš›é€š", dist: 6 },
                { name: "é‚£éœ¸æ©Ÿå ´ â” ç¾åœ‹æ‘", dist: 20 },
                { name: "é‚£éœ¸æ©Ÿå ´ â” ç¾éº—æµ·æ°´æ—é¤¨", dist: 95 },
                { name: "é‚£éœ¸å¸‚å€ â” æ¸¯å·å¤–äººä½å®…", dist: 8 }
            ],
            fukuoka: [
                { name: "ç¦å²¡æ©Ÿå ´ â” åšå¤šè»Šç«™", dist: 3.5 },
                { name: "ç¦å²¡æ©Ÿå ´ â” å¤©ç¥", dist: 6 },
                { name: "åšå¤šè»Šç«™ â” ç¦å²¡å¡”", dist: 7 }
            ]
        };

        let isNightRate = false;

        function toggleNightRate() {
            const toggle = document.getElementById('night-toggle');
            isNightRate = toggle.checked;
            calculateTaxi();
        }

        function updateTaxiCalc(region, routeDist = 0) {
            const select = document.getElementById('taxi-routes');
            if (!select) return;

            const distInput = document.getElementById('taxi-dist');
            const resultArea = document.getElementById('taxi-result');
            
            // Update active state for region buttons
            document.querySelectorAll('.taxi-region-btn').forEach(btn => {
                if(btn.dataset.region === region) {
                    btn.classList.add('bg-journal-accent', 'text-white', 'border-journal-accent');
                    btn.classList.remove('bg-white', 'text-journal-brown', 'border-journal-line');
                } else {
                    btn.classList.remove('bg-journal-accent', 'text-white', 'border-journal-accent');
                    btn.classList.add('bg-white', 'text-journal-brown', 'border-journal-line');
                }
            });

            // Populate common routes dropdown
            select.innerHTML = '<option value="0">é¸æ“‡ç†±é–€è·¯ç·š (è‡ªå‹•å¸¶å…¥)</option>';
            commonRoutes[region].forEach(r => {
                const opt = document.createElement('option');
                opt.value = r.dist;
                opt.text = r.name;
                select.appendChild(opt);
            });

            // Set current region for calculation
            select.dataset.currentRegion = region;
            
            // If routeDist is provided (from dropdown change), update input
            if(routeDist > 0) {
                distInput.value = routeDist;
                calculateTaxi();
            }
        }

        function calculateTaxi() {
            const distInput = document.getElementById('taxi-dist');
            const select = document.getElementById('taxi-routes');
            const resultArea = document.getElementById('taxi-result');
            
            if (!distInput || !select || !resultArea) return;

            const region = select.dataset.currentRegion || 'okinawa';
            const dist = parseFloat(distInput.value);

            if (!dist || dist <= 0) {
                resultArea.innerHTML = '<span class="text-gray-400">è«‹è¼¸å…¥è·é›¢æˆ–é¸æ“‡è·¯ç·š</span>';
                return;
            }

            const rate = taxiRates[region];
            let cost = rate.base;
            
            if (dist > rate.baseKm) {
                const extraDist = dist - rate.baseKm;
                const units = Math.ceil(extraDist / rate.unitKm);
                cost += units * rate.unitPrice;
            }

            // Apply Night Rate
            if (isNightRate) {
                cost *= 1.2;
            }

            // Estimate range (Low: raw calc, High: +25% for traffic/waiting)
            const low = Math.floor(cost / 10) * 10; // Round down to 10
            const high = Math.ceil((cost * 1.25) / 10) * 10; // +25% buffer

            resultArea.innerHTML = `
                <div class="flex flex-col items-center">
                    <span class="text-xs text-gray-500 mb-1">é ä¼°è»Šè³‡ ${isNightRate ? '<span class="text-indigo-900 font-bold">(å¤œé–“)</span>' : ''}</span>
                    <span class="text-2xl font-bold text-journal-accent">Â¥${low.toLocaleString()} ~ Â¥${high.toLocaleString()}</span>
                    <span class="text-[10px] text-gray-400 mt-1">*å¯¦éš›è²»ç”¨ä¾è·³è¡¨ç‚ºæº– (å«å¡è»Š/å¤œé–“åŠ æˆ)</span>
                </div>
            `;
        }

        // --- Checklist Data ---
        const checklistData = [
            "è­·ç…§ (ç¢ºèªæ•ˆæœŸ)", "æ—¥æœ¬é§•ç…§è­¯æœ¬", "å°ç£é§•ç…§æ­£æœ¬", "VJW ç™»éŒ„ (Visit Japan Web)",
            "è¡Œå‹•é›»æº & ç·š", "è¡Œå‹•ç¶²å¡ (eSIM)", 
            "ä¹å·ç§Ÿè»Šï¼šç¢ºèªé›ªèƒ (Studless Tires)", "é ç´„ï¼šAfrican Safari Jungle Bus", 
            "é ç´„é¤å»³ï¼šæ•˜æ•˜è‹‘, æœ¬éƒ¨ç‰§å ´, è¯å‘³é³¥", "ä¿æš–è¡£ç‰© (ä¹å·2-10åº¦/æ‰‹å¥—å¸½å­)",
            "æ³³è¡£ (åˆ¥åºœé£¯åº—ç”¨)", "ä¿¡ç”¨å¡ & æ—¥å¹£ç¾é‡‘"
        ];

        // --- State Management ---
        const STATE = {
            tab: 'plan',
            checklist: JSON.parse(localStorage.getItem('tripChecklist')) || {},
            memo: localStorage.getItem('tripMemo') || ""
        };

        // --- Render Functions ---

        function init() {
            render();
            // Calculate Day number based on today
            const start = new Date("2026-01-28");
            const now = new Date();
            const diffTime = now - start;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); 
            if(diffDays >= 1 && diffDays <= 12) {
                document.getElementById('current-day-display').innerText = diffDays;
            } else {
                 document.getElementById('current-day-display').innerText = "-";
            }
        }

        function switchTab(tabName) {
            STATE.tab = tabName;
            document.querySelectorAll('.nav-btn').forEach(btn => {
                if(btn.dataset.target === tabName) {
                    btn.classList.add('bg-journal-bg', 'text-journal-accent');
                    btn.classList.remove('text-journal-brown');
                } else {
                    btn.classList.remove('bg-journal-bg', 'text-journal-accent');
                    btn.classList.add('text-journal-brown');
                }
            });
            render();
        }

        function toggleShopDetails(id) {
            const el = document.getElementById(id);
            const icon = document.getElementById('icon-' + id);
            if (el.classList.contains('hidden')) {
                el.classList.remove('hidden');
                icon.classList.add('rotate-180');
            } else {
                el.classList.add('hidden');
                icon.classList.remove('rotate-180');
            }
        }

        function render() {
            const container = document.getElementById('app-container');
            container.innerHTML = ''; // Clear

            switch(STATE.tab) {
                case 'plan': renderPlan(container); break;
                case 'guide': renderGuide(container); break;
                case 'shops': renderShops(container); break;
                case 'taxi': renderTaxi(container); break;
                case 'lists': renderLists(container); break;
                case 'info': renderInfo(container); break;
            }
            window.scrollTo(0,0);
        }

        // --- Render: PLAN ---
        function renderPlan(container) {
            let html = `<div class="space-y-8 fade-in">`;
            
            tripData.forEach((day, index) => {
                const mapEmbedUrl = `https://maps.google.com/maps?q=${encodeURIComponent(day.mapFocus)}&t=&z=13&ie=UTF8&iwloc=&output=embed`;
                
                // Color Logic for days
                let tapeClass = (index < 4 || index >= 9) ? 'washi-tape-blue' : 'washi-tape-green';
                
                html += `
                    <div class="journal-card mt-4">
                        <div class="washi-tape-top ${tapeClass}"></div>
                        
                        <div class="px-5 py-4 border-b border-journal-line flex justify-between items-end bg-white rounded-t-xl">
                            <div>
                                <h3 class="font-bold text-journal-ink text-xl">${day.date}</h3>
                                <p class="text-sm text-journal-brown mt-1">${day.title}</p>
                            </div>
                            <span class="text-[10px] bg-journal-bg border border-journal-line px-2 py-1 rounded text-journal-brown font-bold tracking-wide">${day.area}</span>
                        </div>
                        
                        <!-- Map Preview -->
                        <div class="relative w-full h-32 bg-gray-100 group border-b border-journal-line border-dashed">
                            <iframe 
                                width="100%" 
                                height="100%" 
                                frameborder="0" 
                                scrolling="no" 
                                marginheight="0" 
                                marginwidth="0" 
                                src="${mapEmbedUrl}"
                                loading="lazy"
                                class="opacity-90 group-hover:opacity-100 transition-opacity pointer-events-none"
                            ></iframe>
                            <a href="${day.route}" target="_blank" class="btn-hand absolute bottom-2 right-2 bg-white/90 backdrop-blur text-journal-ink text-xs px-3 py-1.5 rounded-lg shadow-md hover:text-journal-accent flex items-center border border-journal-line">
                                <i class="fa-solid fa-diamond-turn-right mr-1.5"></i> æŸ¥çœ‹è·¯ç·š
                            </a>
                        </div>

                        <div class="p-5 relative">
                            <!-- Timeline -->
                `;

                day.events.forEach((event, idx) => {
                    const isLast = idx === day.events.length - 1;
                    const highlightClass = event.highlight ? 'bg-journal-bg border-journal-accent/30' : 'bg-white border-transparent';
                    const alertText = event.alert === 'important' ? 'text-journal-accent font-bold' : 'text-journal-ink';
                    const linkBtn = event.link ? `<button onclick="openMap('${event.link}')" class="mt-2 text-xs flex items-center text-journal-brown hover:text-journal-accent transition-colors"><i class="fa-solid fa-map-location-dot mr-1"></i> Google Maps</button>` : '';

                    html += `
                        <div class="relative pl-8 pb-6 ${isLast ? 'last-item' : 'timeline-line'}">
                            <div class="absolute left-0 top-0 w-8 flex justify-center">
                                <div class="w-2.5 h-2.5 rounded-full bg-journal-line border-2 border-white mt-1.5 z-10 box-content"></div>
                            </div>
                            <div class="flex items-start">
                                <span class="font-mono text-sm font-bold text-journal-brown mr-3 min-w-[45px]">${event.time}</span>
                                <div class="flex-1">
                                    <div class="flex items-center space-x-2">
                                        <i class="fa-solid ${event.icon} text-xs text-journal-brown/50"></i>
                                        <h4 class="font-medium ${alertText}">${event.title}</h4>
                                    </div>
                                    <p class="text-xs text-gray-500 mt-1 leading-relaxed pl-5 border-l-2 border-journal-bg ml-1.5">${event.desc}</p>
                                    <div class="pl-6">${linkBtn}</div>
                                </div>
                            </div>
                        </div>
                    `;
                });

                html += `</div></div>`;
            });
            html += `</div>`;
            container.innerHTML = html;
        }

        // --- Render: SHOPS (Shopping + Food) ---
        function renderShops(container) {
             let html = `<div class="fade-in space-y-8 pb-4 relative pt-16">`; // Increased top padding
             
             // Fixed Quick Jump Menu - Lowered top position
             html += `
                <div class="fixed top-[100px] left-0 right-0 z-10 flex justify-center space-x-4 pointer-events-none">
                    <div class="bg-journal-bg/95 backdrop-blur px-4 py-2 rounded-full border border-journal-line shadow-sm pointer-events-auto flex space-x-4">
                        <button onclick="document.getElementById('section-shopping').scrollIntoView({behavior: 'smooth'})" class="px-4 py-1.5 rounded-full bg-white border border-journal-accent text-journal-accent text-xs font-bold shadow-sm active:scale-95 transition">
                            <i class="fa-solid fa-bag-shopping mr-1"></i> å¿…è²·è³¼ç‰©
                        </button>
                        <button onclick="document.getElementById('section-food').scrollIntoView({behavior: 'smooth'})" class="px-4 py-1.5 rounded-full bg-white border border-journal-brown text-journal-brown text-xs font-bold shadow-sm active:scale-95 transition">
                            <i class="fa-solid fa-utensils mr-1"></i> ç¾é£Ÿåœ°åœ–
                        </button>
                    </div>
                </div>
             `;
             
             // Shopping Section
             html += `<div id="section-shopping" class="scroll-mt-40 journal-card p-5 border-2 border-journal-accent/20 bg-journal-bg/30">
                        <h3 class="font-bold text-journal-accent text-lg mb-4 flex items-center">
                            <i class="fa-solid fa-bag-shopping mr-2"></i> å¿…è²·è³¼ç‰©æ¸…å–®
                        </h3>
                        <div class="space-y-4">`;
             
             shoppingData.forEach((brand, index) => {
                 html += `
                    <div class="bg-white rounded-xl border border-journal-line overflow-hidden">
                        <button onclick="toggleShopDetails('shop-${index}')" class="w-full flex items-center justify-between p-3 bg-white hover:bg-gray-50 transition-colors">
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-journal-accent/10 flex items-center justify-center text-journal-accent mr-3">
                                    <i class="fa-solid ${brand.icon}"></i>
                                </div>
                                <h4 class="font-bold text-journal-ink text-left">${brand.brand}</h4>
                            </div>
                            <i id="icon-shop-${index}" class="fa-solid fa-chevron-down text-journal-brown text-sm transition-transform duration-300"></i>
                        </button>
                        
                        <div id="shop-${index}" class="hidden bg-journal-bg/20 border-t border-dashed border-journal-line p-3 space-y-3">
                            ${brand.stores.map(store => `
                                <div class="flex justify-between items-start text-xs pb-2 border-b border-journal-line/30 last:border-0 last:pb-0">
                                    <div>
                                        <span class="inline-block px-1.5 py-0.5 rounded bg-white border border-journal-line text-journal-brown mb-1 scale-90 origin-left">${store.area}</span>
                                        <p class="font-bold text-journal-ink text-sm">${store.name}</p>
                                        <p class="text-gray-500 mt-0.5 leading-tight">${store.desc}</p>
                                    </div>
                                    <button onclick="openMap('${store.link}')" class="btn-hand bg-white border border-journal-line p-2 rounded text-journal-brown hover:text-journal-accent ml-2 shrink-0">
                                        <i class="fa-solid fa-location-arrow"></i>
                                    </button>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                 `;
             });
             html += `</div></div>`;

             // Food Section Header
             html += `<div id="section-food" class="scroll-mt-40"></div>`; // Adjusted scroll margin

             // Food Section Cards
             foodData.forEach(region => {
                 html += `
                    <div class="journal-card p-5">
                        <h3 class="font-bold text-journal-ink text-lg pb-3 border-b-2 border-dashed border-journal-line mb-4 flex items-center">
                            <i class="fa-solid fa-utensils text-journal-brown mr-2"></i> ${region.area}
                        </h3>
                        <div class="space-y-4">
                 `;
                 
                 region.spots.forEach(spot => {
                     html += `
                        <div class="flex justify-between items-start group">
                            <div class="flex items-start space-x-3">
                                <div class="w-8 h-8 rounded-full bg-journal-bg flex items-center justify-center text-journal-brown shrink-0 text-xs mt-0.5">
                                    <i class="fa-solid ${spot.icon}"></i>
                                </div>
                                <div class="flex-1">
                                    <div class="flex items-center space-x-2 flex-wrap">
                                        <h4 class="font-bold text-journal-ink text-sm">${spot.name}</h4>
                                        <span class="text-[10px] text-journal-brown bg-white border border-journal-line px-1 rounded">${spot.type}</span>
                                    </div>
                                    <div class="flex items-center text-[10px] text-journal-accent mt-0.5 font-bold">
                                        <i class="fa-solid fa-yen-sign mr-0.5"></i> ${spot.price}
                                    </div>
                                    <p class="text-xs text-gray-500 mt-0.5">${spot.desc}</p>
                                    
                                    ${spot.reserve ? `
                                    <a href="${spot.reserve}" target="_blank" class="inline-flex items-center mt-1.5 px-2 py-1 bg-journal-accent/10 border border-journal-accent/30 rounded text-[10px] text-journal-accent hover:bg-journal-accent hover:text-white transition">
                                        <i class="fa-solid fa-calendar-check mr-1"></i> ç·šä¸Šè¨‚ä½
                                    </a>
                                    ` : ''}
                                </div>
                            </div>
                            <button onclick="openMap('${spot.link}')" class="text-journal-line hover:text-journal-accent transition-colors p-2 self-start">
                                <i class="fa-solid fa-location-arrow text-sm"></i>
                            </button>
                        </div>
                     `;
                 });
                 
                 html += `</div></div>`;
             });

             html += `</div>`;
             container.innerHTML = html;
        }

        // --- Render: TAXI (New Tab) ---
        function renderTaxi(container) {
            let html = `
                <div class="fade-in space-y-6 pb-4 pt-4">
                    <!-- Header -->
                    <div class="text-center mb-6">
                        <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-journal-bg border-2 border-dashed border-journal-line mb-3">
                            <i class="fa-solid fa-calculator text-3xl text-journal-accent"></i>
                        </div>
                        <h2 class="text-xl font-bold text-journal-ink">è¨ˆç¨‹è»Šè³‡ä¼°ç®—</h2>
                        <p class="text-xs text-journal-brown mt-1">Okinawa & Kyushu Taxi Fare</p>
                    </div>

                    <!-- Taxi Estimator -->
                    <div class="journal-card p-6 bg-white border border-journal-line shadow-sm relative overflow-hidden">
                        <div class="relative z-10">
                            <div class="flex space-x-2 mb-6">
                                <button onclick="updateTaxiCalc('okinawa')" class="taxi-region-btn flex-1 py-2 rounded-lg border text-sm font-bold transition bg-journal-accent text-white border-journal-accent shadow-sm" data-region="okinawa">æ²–ç¹©</button>
                                <button onclick="updateTaxiCalc('fukuoka')" class="taxi-region-btn flex-1 py-2 rounded-lg border text-sm font-bold transition bg-white text-journal-brown border-journal-line shadow-sm" data-region="fukuoka">ä¹å· (ç¦å²¡)</button>
                            </div>

                            <div class="space-y-5">
                                <div>
                                    <label class="text-xs font-bold text-journal-ink block mb-2 flex items-center">
                                        <i class="fa-solid fa-map-location-dot mr-1.5 text-journal-brown"></i> å¿«é€Ÿé¸æ“‡ç†±é–€è·¯ç·š
                                    </label>
                                    <div class="relative">
                                        <select id="taxi-routes" onchange="updateTaxiCalc(this.dataset.currentRegion, this.value)" class="w-full text-sm p-3 rounded-xl border border-journal-line bg-gray-50 outline-none appearance-none text-gray-600 font-sans">
                                            <!-- Options injected by JS -->
                                        </select>
                                        <div class="absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none text-gray-400">
                                            <i class="fa-solid fa-chevron-down text-xs"></i>
                                        </div>
                                    </div>
                                </div>
                                
                                <div>
                                    <div class="flex items-center justify-between mb-2">
                                        <label class="text-xs font-bold text-journal-ink flex items-center">
                                            <i class="fa-solid fa-ruler-horizontal mr-1.5 text-journal-brown"></i> è‡ªè¨‚è·é›¢ (å…¬é‡Œ)
                                        </label>
                                        <label class="flex items-center cursor-pointer">
                                            <span class="mr-2 text-xs font-bold text-journal-ink">å¤œé–“åŠ æˆ (+20%)</span>
                                            <div class="relative">
                                                <input type="checkbox" id="night-toggle" class="sr-only" onchange="toggleNightRate()">
                                                <div class="toggle-bg block bg-gray-200 w-9 h-5 rounded-full border border-journal-line transition duration-300 ease-in-out"></div>
                                                <div class="toggle-dot absolute left-0.5 top-0.5 bg-white w-4 h-4 rounded-full transition duration-300 ease-in-out border border-gray-300 flex items-center justify-center">
                                                    <i class="toggle-icon fa-solid fa-moon text-[8px] text-journal-brown opacity-0 transition-opacity duration-300"></i>
                                                </div>
                                            </div>
                                        </label>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <input type="number" id="taxi-dist" placeholder="0" class="flex-1 p-3 text-lg font-mono border border-journal-line rounded-xl outline-none focus:border-journal-accent bg-white shadow-inner">
                                        <button onclick="calculateTaxi()" class="px-6 py-3 bg-journal-ink text-white rounded-xl text-sm font-bold shadow-md active:scale-95 transition hover:bg-journal-brown">
                                            è¨ˆç®—
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-8 relative">
                                <div class="absolute left-0 right-0 top-1/2 border-t-2 border-dashed border-journal-line/30"></div>
                                <div class="relative z-10 flex justify-center">
                                    <span class="bg-white px-3 text-xs text-journal-brown/60">ESTIMATE</span>
                                </div>
                            </div>

                            <div id="taxi-result" class="mt-4 p-5 bg-journal-bg rounded-xl border border-journal-line text-center min-h-[100px] flex flex-col items-center justify-center">
                                <span class="text-sm text-gray-400 mb-1">è«‹é¸æ“‡è·¯ç·šæˆ–è¼¸å…¥è·é›¢</span>
                                <i class="fa-solid fa-coins text-2xl text-journal-line mt-2"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Tips -->
                    <div class="bg-white/80 p-4 rounded-xl border border-journal-line/50 text-xs text-gray-500 leading-relaxed">
                        <h4 class="font-bold text-journal-ink mb-2"><i class="fa-solid fa-circle-exclamation mr-1 text-journal-accent"></i> æ³¨æ„äº‹é …</h4>
                        <ul class="list-disc pl-4 space-y-1">
                            <li>æ—¥æœ¬è¨ˆç¨‹è»Šè»Šé–€ç‚º<b>è‡ªå‹•é–‹é—œ</b>ï¼Œè«‹å‹¿å‹•æ‰‹å»æ‹‰ã€‚</li>
                            <li>å¤œé–“åŠ æˆ (22:00-05:00) é€šå¸¸æœƒå¢åŠ  20%ã€‚</li>
                            <li>æ­¤ä¼°ç®—åƒ…ä¾›åƒè€ƒï¼Œå¯¦éš›è²»ç”¨æœƒå—å¡è»Šåœç­‰æ™‚é–“å½±éŸ¿ã€‚</li>
                            <li>å¯ä½¿ç”¨ Uber æˆ– DiDi App å«è»Šï¼Œç¶å®šä¿¡ç”¨å¡ä»˜æ¬¾æ›´æ–¹ä¾¿ã€‚</li>
                        </ul>
                    </div>
                </div>
            `;
            container.innerHTML = html;
            
            // Reset night rate when entering tab
            isNightRate = false;
            updateTaxiCalc('okinawa'); // Init logic
        }

        // --- Render: GUIDE ---
        function renderGuide(container) {
            let html = `<div class="fade-in space-y-8 pb-4 relative pt-16">`;

            // Fixed Quick Jump Menu for Guide
             html += `
                <div class="fixed top-[100px] left-0 right-0 z-10 flex justify-center space-x-4 pointer-events-none">
                    <div class="bg-journal-bg/95 backdrop-blur px-4 py-2 rounded-full border border-journal-line shadow-sm pointer-events-auto flex space-x-4">
                        <button onclick="document.getElementById('guide-okinawa').scrollIntoView({behavior: 'smooth'})" class="px-4 py-1.5 rounded-full bg-white border border-journal-blue text-journal-blue text-xs font-bold shadow-sm active:scale-95 transition">
                            <i class="fa-solid fa-water mr-1"></i> æ²–ç¹©
                        </button>
                        <button onclick="document.getElementById('guide-kyushu').scrollIntoView({behavior: 'smooth'})" class="px-4 py-1.5 rounded-full bg-white border border-journal-green text-journal-green text-xs font-bold shadow-sm active:scale-95 transition">
                            <i class="fa-solid fa-mountain-sun mr-1"></i> ä¹å·
                        </button>
                    </div>
                </div>
             `;
            
            guideData.forEach(section => {
                const anchorId = section.anchor ? `id="${section.anchor}"` : '';
                const scrollClass = section.anchor ? 'scroll-mt-40' : '';

                html += `
                    <div ${anchorId} class="journal-card p-5 ${scrollClass}">
                        <h3 class="font-bold text-journal-ink text-lg pb-3 border-b-2 border-dashed border-journal-line mb-4 flex items-center">
                            <i class="fa-solid fa-map-location-dot text-journal-green mr-2"></i> ${section.region}
                        </h3>
                        <div class="space-y-6">
                            ${section.items.map(item => `
                                <div class="transform transition duration-300">
                                    <div class="flex justify-between items-start mb-2">
                                        <h4 class="font-bold text-journal-ink text-base border-l-4 border-journal-bg pl-2">${item.title}</h4>
                                        ${item.mapQuery ? 
                                            `<button onclick="openMap('${item.mapQuery}')" class="btn-hand bg-white border border-journal-line px-2 py-1 rounded text-xs text-journal-brown hover:text-journal-accent">
                                                <i class="fa-solid fa-location-arrow"></i>
                                            </button>` : ''
                                        }
                                    </div>
                                    <div class="flex flex-wrap gap-2 mb-2">
                                        <div class="flex items-center text-xs text-journal-accent font-mono bg-journal-bg/30 px-2 py-1 rounded w-fit">
                                            <i class="fa-regular fa-clock mr-1.5"></i> ${item.hours}
                                        </div>
                                        ${item.closed ? `<div class="flex items-center text-xs text-journal-brown font-mono bg-gray-100 px-2 py-1 rounded w-fit">
                                            <i class="fa-solid fa-ban mr-1.5"></i> ${item.closed}
                                        </div>` : ''}
                                    </div>
                                    <div class="text-sm leading-7 text-gray-600 font-sans pl-2">
                                        ${item.content}
                                    </div>
                                </div>
                            `).join('<div class="border-b border-journal-line/30 my-4"></div>')}
                        </div>
                    </div>
                `;
            });

            html += `</div>`;
            container.innerHTML = html;
        }

        // --- Render: LISTS ---
        function renderLists(container) {
            let html = `
                <div class="fade-in space-y-6 pb-4">
                    <!-- CheckList -->
                    <div class="journal-card overflow-hidden">
                        <div class="bg-journal-bg px-5 py-3 border-b border-journal-line flex items-center">
                            <i class="fa-solid fa-clipboard-check text-journal-accent mr-2"></i>
                            <h3 class="font-bold text-journal-ink">è¡Œå‰æ¸…å–®</h3>
                        </div>
                        <div class="divide-y divide-journal-line/50">
                            ${checklistData.map((item, idx) => `
                                <label class="flex items-center px-5 py-3.5 cursor-pointer hover:bg-journal-bg/30 transition">
                                    <input type="checkbox" class="w-5 h-5 text-journal-accent rounded border-gray-300 focus:ring-journal-accent" 
                                        ${STATE.checklist[item] ? 'checked' : ''} 
                                        onchange="toggleCheck('${item}')">
                                    <span class="ml-3 text-sm ${STATE.checklist[item] ? 'text-gray-400 line-through' : 'text-journal-ink'}">${item}</span>
                                </label>
                            `).join('')}
                        </div>
                    </div>

                    <!-- Memo -->
                    <div class="journal-card flex flex-col h-80 relative">
                        <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 w-8 h-8 bg-journal-line rounded-full border-4 border-journal-bg shadow-inner"></div>
                         <div class="px-5 py-4 border-b border-journal-line flex justify-between items-center bg-journal-bg/50 rounded-t-xl mt-2">
                            <h3 class="font-bold text-journal-ink">å‚™å¿˜éŒ„</h3>
                            <span class="text-[10px] text-gray-400">è‡ªå‹•å„²å­˜</span>
                        </div>
                        <textarea id="memo-area" class="flex-1 p-5 w-full resize-none focus:outline-none text-sm leading-relaxed bg-transparent" 
                            placeholder="è¼¸å…¥ç­†è¨˜ã€ç¶²å€é€£çµ..." oninput="saveMemo(this.value)">${STATE.memo}</textarea>
                        
                        <div class="bg-journal-bg/30 px-4 py-2 border-t border-journal-line min-h-[40px] flex flex-wrap gap-2 rounded-b-xl" id="memo-links">
                            <!-- Links will appear here -->
                        </div>
                    </div>
                </div>
            `;
            container.innerHTML = html;
            updateMemoLinks(STATE.memo);
        }

        // --- Render: INFO ---
        function renderInfo(container) {
            html = `
                <div class="fade-in space-y-6 pb-4">
                    <!-- Hotel Info -->
                    <div class="journal-card p-6">
                        <h3 class="font-bold text-journal-ink mb-4 flex items-center text-lg">
                            <i class="fa-solid fa-hotel text-journal-accent mr-2"></i> ä½å®¿è³‡è¨Š
                        </h3>
                        <div class="space-y-6">
                            <!-- Naha 1 & 2 -->
                            <div class="relative bg-journal-bg/30 p-4 rounded-xl border border-dashed border-journal-line">
                                <div class="absolute -top-2 left-4 px-2 bg-white text-xs text-journal-blue font-bold border border-journal-line rounded">æ²–ç¹© (é‚£éœ¸)</div>
                                <div class="flex justify-between items-start mt-2">
                                    <p class="font-bold text-journal-ink text-sm">THE NEST HOTEL NAHA</p>
                                    <button onclick="openMap('THE NEST HOTEL NAHA')" class="text-xs text-journal-brown hover:text-journal-accent transition">
                                        <i class="fa-solid fa-location-dot"></i> åœ°åœ–
                                    </button>
                                </div>
                                
                                <div class="mt-3 space-y-2">
                                    <!-- Leg 1 -->
                                    <div class="bg-white p-2 rounded border border-journal-line/50 text-xs">
                                        <div class="flex justify-between mb-1">
                                            <span class="text-journal-accent font-bold">å‰åŠæ®µ (4æ™š)</span>
                                            <span class="font-mono text-journal-ink font-bold">1672142701</span>
                                        </div>
                                        <div class="flex justify-between text-gray-600 font-mono">
                                            <span>In: 01/28</span>
                                            <i class="fa-solid fa-arrow-right text-gray-300 text-[10px] self-center"></i>
                                            <span>Out: 02/01</span>
                                        </div>
                                        <div class="border-t border-dashed border-journal-line pt-1 mt-1">
                                            <div class="flex justify-between text-journal-accent"><span>ç¸½åƒ¹:</span> <span class="font-bold">TWD 12,940</span></div>
                                        </div>
                                    </div>
                                    
                                    <!-- Leg 2 (Option A) -->
                                    <div class="bg-white p-2 rounded border border-journal-line/50 text-xs relative mt-4">
                                        <div class="absolute -top-2 left-2 bg-gray-100 px-1.5 py-0.5 text-[9px] text-gray-500 rounded border border-gray-200">é è¨‚ A</div>
                                        <div class="flex justify-between mb-1 mt-1">
                                            <span class="text-journal-accent font-bold">å¾ŒåŠæ®µ (2æ™š)</span>
                                            <span class="font-mono text-journal-ink font-bold">1679425715</span>
                                        </div>
                                        <div class="flex justify-between text-gray-600 font-mono">
                                            <span>In: 02/06</span>
                                            <i class="fa-solid fa-arrow-right text-gray-300 text-[10px] self-center"></i>
                                            <span>Out: 02/08</span>
                                        </div>
                                        <div class="border-t border-dashed border-journal-line pt-1 mt-1">
                                            <div class="flex justify-between text-journal-accent"><span>ç¸½åƒ¹:</span> <span class="font-bold">JPY 53,172</span></div>
                                        </div>
                                    </div>

                                    <!-- Leg 2 (Option B) -->
                                    <div class="bg-white p-2 rounded border border-journal-line/50 text-xs relative mt-3 ring-1 ring-journal-accent/20">
                                        <div class="absolute -top-2 left-2 bg-journal-accent text-white px-1.5 py-0.5 text-[9px] rounded shadow-sm">é è¨‚ B (è¡Œæ”¿å¥—æˆ¿)</div>
                                        <div class="flex justify-between mb-1 mt-1">
                                            <span class="text-journal-accent font-bold">å¾ŒåŠæ®µ (2æ™š)</span>
                                            <span class="font-mono text-journal-ink font-bold">3188-4885-8292</span>
                                        </div>
                                        <div class="flex justify-between text-gray-600 font-mono">
                                            <span>In: 02/06</span>
                                            <i class="fa-solid fa-arrow-right text-gray-300 text-[10px] self-center"></i>
                                            <span>Out: 02/08 (12:00é€€)</span>
                                        </div>
                                        <div class="border-t border-dashed border-journal-line pt-1 mt-1">
                                            <div class="flex justify-between text-journal-accent"><span>ç¸½åƒ¹:</span> <span class="font-bold">JPY 67,100</span></div>
                                        </div>
                                        <div class="mt-2 pt-1 border-t border-journal-line/30 flex justify-between items-center">
                                            <span class="text-[9px] text-gray-400">7å¤©å‰å…è²»å–æ¶ˆ</span>
                                            <a href="https://go-nesthotel.reservation.jp/zh-tw/mypage/index" target="_blank" class="text-[10px] text-journal-blue hover:text-journal-accent flex items-center bg-gray-50 px-2 py-1 rounded border border-gray-200">
                                                <i class="fa-solid fa-gear mr-1"></i> ç®¡ç†é è¨‚
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Beppu -->
                            <div class="relative bg-journal-bg/30 p-4 rounded-xl border border-dashed border-journal-line">
                                <div class="absolute -top-2 left-4 px-2 bg-white text-xs text-journal-green font-bold border border-journal-line rounded">ä¹å· (åˆ¥åºœ)</div>
                                <div class="flex justify-between items-start mt-2">
                                    <p class="font-bold text-journal-ink text-sm">AMANEK Beppu YULA-RE</p>
                                    <button onclick="openMap('AMANEK Beppu YULA-RE')" class="text-xs text-journal-brown hover:text-journal-accent transition">
                                        <i class="fa-solid fa-location-dot"></i> åœ°åœ–
                                    </button>
                                </div>
                                <div class="mt-3 bg-white p-2 rounded border border-journal-line/50 text-xs">
                                    <div class="flex justify-between mb-1">
                                        <span class="text-journal-green font-bold">æº«æ³‰ä½å®¿ (2æ™š)</span>
                                        <span class="font-mono text-journal-ink font-bold">1672145271</span>
                                    </div>
                                    <div class="space-y-1 font-mono text-gray-600">
                                        <div class="flex justify-between">
                                            <span>In: 02/01</span>
                                            <i class="fa-solid fa-arrow-right text-gray-300 text-[10px] self-center"></i>
                                            <span>Out: 02/03</span>
                                        </div>
                                        <div class="border-t border-dashed border-journal-line pt-1 mt-1">
                                            <div class="flex justify-between text-journal-accent"><span>ç¸½åƒ¹:</span> <span class="font-bold">JPY 80,662</span></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Fukuoka -->
                            <div class="relative bg-journal-bg/30 p-4 rounded-xl border border-dashed border-journal-line">
                                <div class="absolute -top-2 left-4 px-2 bg-white text-xs text-journal-brown font-bold border border-journal-line rounded">ç¦å²¡ (åšå¤š)</div>
                                <div class="flex justify-between items-start mt-2">
                                    <p class="font-bold text-journal-ink text-sm">JR Kyushu Hotel Blossom Hakata Central</p>
                                    <button onclick="openMap('JR Kyushu Hotel Blossom Hakata Central')" class="text-xs text-journal-brown hover:text-journal-accent transition">
                                        <i class="fa-solid fa-location-dot"></i> åœ°åœ–
                                    </button>
                                </div>
                                <div class="mt-3 bg-white p-2 rounded border border-journal-line/50 text-xs">
                                    <div class="flex justify-between mb-1">
                                        <span class="text-journal-brown font-bold">å¸‚å€ä½å®¿ (3æ™š)</span>
                                    </div>
                                    <div class="space-y-1 font-mono text-gray-600">
                                        <div class="flex justify-between">
                                            <span>In: 02/03</span>
                                            <i class="fa-solid fa-arrow-right text-gray-300 text-[10px] self-center"></i>
                                            <span>Out: 02/06</span>
                                        </div>
                                        <div class="border-t border-dashed border-journal-line pt-1 mt-1">
                                            <div class="flex justify-between"><span>ç¢ºèªç·¨è™Ÿ:</span> <span class="font-bold">20251227095644267</span></div>
                                            <div class="flex justify-between"><span>PINç¢¼:</span> <span class="font-bold">9476</span></div>
                                            <div class="flex justify-between"><span>è¨‚å–®ç·¨è™Ÿ:</span> <span>1616327087584238</span></div>
                                            <div class="flex justify-between text-journal-accent mt-1"><span>ç¾å ´æ”¯ä»˜:</span> <span class="font-bold">JPY 58,035</span></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Flight Info -->
                    <div class="journal-card p-6">
                        <h3 class="font-bold text-journal-ink mb-4 flex items-center text-lg">
                            <i class="fa-solid fa-plane text-journal-accent mr-2"></i> èˆªç­è¡Œç¨‹
                        </h3>
                        <div class="space-y-4">
                            <div class="bg-journal-bg rounded-lg p-3 border border-journal-line/50">
                                <div class="flex justify-between items-center mb-1">
                                    <span class="font-bold text-journal-ink text-sm">01/28</span>
                                    <span class="text-xs text-white bg-journal-blue px-2 py-0.5 rounded-full">å»ç¨‹</span>
                                </div>
                                <div class="flex justify-between text-xs text-gray-500">
                                    <span>16:50 TPE <i class="fa-solid fa-arrow-right mx-1"></i> 19:20 OKA</span>
                                    <span class="font-mono">CI 0122</span>
                                </div>
                            </div>
                            <div class="bg-journal-bg rounded-lg p-3 border border-journal-line/50">
                                <div class="flex justify-between items-center mb-1">
                                    <span class="font-bold text-journal-ink text-sm">02/01</span>
                                    <span class="text-xs text-white bg-journal-green px-2 py-0.5 rounded-full">åœ‹å…§</span>
                                </div>
                                <div class="flex justify-between text-xs text-gray-500">
                                    <span>10:10 OKA <i class="fa-solid fa-arrow-right mx-1"></i> 12:00 FUK</span>
                                    <span class="font-mono">MM282</span>
                                </div>
                            </div>
                            <div class="bg-journal-bg rounded-lg p-3 border border-journal-line/50">
                                <div class="flex justify-between items-center mb-1">
                                    <span class="font-bold text-journal-ink text-sm">02/06</span>
                                    <span class="text-xs text-white bg-journal-green px-2 py-0.5 rounded-full">åœ‹å…§</span>
                                </div>
                                <div class="flex justify-between text-xs text-gray-500">
                                    <span>17:55 FUK <i class="fa-solid fa-arrow-right mx-1"></i> 19:50 OKA</span>
                                    <span class="font-mono">MM289</span>
                                </div>
                                <div class="border-t border-dashed border-journal-line/50 mt-2 pt-1 flex justify-between items-center">
                                    <span class="text-[10px] text-gray-400">æ¨‚æ¡ƒèˆªç©º</span>
                                    <span class="text-xs text-journal-accent font-bold">ç¸½è¨ˆ: Â¥59,120</span>
                                </div>
                            </div>
                             <div class="bg-journal-bg rounded-lg p-3 border border-journal-line/50">
                                <div class="flex justify-between items-center mb-1">
                                    <span class="font-bold text-journal-ink text-sm">02/08</span>
                                    <span class="text-xs text-white bg-journal-accent px-2 py-0.5 rounded-full">å›ç¨‹</span>
                                </div>
                                <div class="flex justify-between text-xs text-gray-500">
                                    <span>11:55 OKA <i class="fa-solid fa-arrow-right mx-1"></i> 12:35 TPE</span>
                                    <span class="font-mono">CI 0121</span>
                                </div>
                                <div class="border-t border-dashed border-journal-line/50 mt-2 pt-1 flex justify-between items-center">
                                    <span class="text-[10px] text-gray-400">ä¸­è¯èˆªç©º</span>
                                    <span class="text-xs text-journal-accent font-bold">ç¸½è¨ˆ: TWD 35,430</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Rental Car Info -->
                    <div class="journal-card p-6">
                        <h3 class="font-bold text-journal-ink mb-4 flex items-center text-lg">
                            <i class="fa-solid fa-car text-journal-accent mr-2"></i> ç§Ÿè»Šè³‡è¨Š
                        </h3>
                        <div class="space-y-6">
                            <!-- ORIX Okinawa -->
                            <div class="relative bg-journal-bg/30 p-4 rounded-xl border border-dashed border-journal-line">
                                <div class="absolute -top-2 left-4 px-2 bg-white text-xs text-journal-blue font-bold border border-journal-line rounded">æ²–ç¹©</div>
                                <div class="flex justify-between items-start mt-1">
                                    <p class="font-bold text-journal-ink text-sm">ORIX ç§Ÿè»Š (æ—­æ©‹ç«™è¥¿åº—)</p>
                                    <span class="bg-white text-journal-accent text-[10px] px-2 py-1 rounded border border-journal-line">ç•¶åœ°æ”¯ä»˜</span>
                                </div>
                                
                                <div class="mt-3 text-xs text-gray-600 space-y-2 font-mono">
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">é ç´„è™Ÿç¢¼</span>
                                        <span class="font-bold text-base text-journal-ink">247158145</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">å¯†ç¢¼</span>
                                        <span class="font-bold text-journal-ink">739f26fc</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">å–è»Š</span>
                                        <span>01/29 09:00</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">é‚„è»Š</span>
                                        <span>01/31 19:00</span>
                                    </div>
                                    <div class="flex justify-between border-t border-dashed border-journal-line pt-2">
                                        <span class="text-gray-400">é›»è©±</span>
                                        <span>098-866-0543</span>
                                    </div>
                                    <div class="flex justify-between text-journal-accent">
                                        <span class="text-gray-400">æ”¯ä»˜é‡‘é¡</span>
                                        <span class="font-bold">Â¥19,980</span>
                                    </div>
                                </div>
                                <button onclick="openMap('ORIX Rent-a-Car Naha Asahibashi Station West')" class="btn-hand mt-3 w-full py-2 bg-white rounded-lg border border-journal-line text-xs text-journal-brown hover:text-journal-accent transition">
                                    <i class="fa-solid fa-location-arrow mr-1.5"></i> å°èˆªè‡³æ—­æ©‹ç«™è¥¿åº—
                                </button>
                            </div>

                            <!-- Toyota Fukuoka -->
                            <div class="relative bg-journal-bg/30 p-4 rounded-xl border border-dashed border-journal-line">
                                <div class="absolute -top-2 left-4 px-2 bg-white text-xs text-journal-green font-bold border border-journal-line rounded">ä¹å·</div>
                                <div class="flex justify-between items-start mt-1">
                                    <p class="font-bold text-journal-ink text-sm">TOYOTA Rent a Car</p>
                                    <span class="bg-white text-journal-brown text-[10px] px-2 py-1 rounded border border-journal-line">å·²çµç®—</span>
                                </div>
                                
                                <div class="mt-3 text-xs text-gray-600 space-y-2 font-mono">
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">é ç´„è™Ÿç¢¼</span>
                                        <span class="font-bold text-base text-journal-ink">99903633500</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">å–é‚„æ™‚é–“</span>
                                        <span>02/01 13:30 - 02/03 18:00</span>
                                    </div>
                                    <div class="flex justify-between border-t border-dashed border-journal-line pt-2">
                                        <span class="text-gray-400">çµç®—é‡‘é¡</span>
                                        <span class="font-bold">Â¥47,932</span>
                                    </div>
                                </div>

                                <!-- Contact Link Button -->
                                <a href="https://cs-renta-toyota.my.salesforce-sites.com/rentacar/faq_top" target="_blank" class="btn-hand mt-3 flex items-center justify-center w-full py-2 bg-white rounded-lg border border-journal-line text-xs text-journal-brown hover:text-journal-accent transition">
                                    <i class="fa-solid fa-headset mr-1.5"></i> ç§Ÿè»Šå¸¸è¦‹å•é¡Œ / å®¢æœ
                                </a>

                                <div class="flex space-x-2 mt-2">
                                    <button onclick="openMap('Toyota Rent a Car Fukuoka Airport')" class="btn-hand flex-1 py-2 bg-white rounded-lg border border-journal-line text-xs text-journal-brown hover:text-journal-accent transition flex items-center justify-center">
                                        <i class="fa-solid fa-car mr-1.5"></i> å–è»Šå°èˆª
                                    </button>
                                    <button onclick="openMap('ç¦å²¡å¸‚åšå¤šåŒºæ±å…‰1-4-10')" class="btn-hand flex-1 py-2 bg-white rounded-lg border border-journal-line text-xs text-journal-brown hover:text-journal-accent transition flex items-center justify-center">
                                        <i class="fa-solid fa-flag-checkered mr-1.5"></i> é‚„è»Šå°èˆª
                                    </button>
                                </div>
                                <div class="text-[9px] text-gray-400 text-center mt-1">é‚„è»Šåœ°å€ï¼šç¦å²¡å¸‚åšå¤šåŒºæ±å…‰1-4-10</div>
                            </div>
                        </div>
                    </div>

                    <!-- Weather & Emergency Numbers -->
                    <div class="grid grid-cols-2 gap-4">
                         <a href="https://www.jma.go.jp/bosai/forecast/" target="_blank" class="journal-card p-4 flex flex-col items-center justify-center space-y-2 hover:bg-journal-bg/50 transition cursor-pointer">
                            <i class="fa-solid fa-cloud-sun text-3xl text-journal-blue"></i>
                            <span class="font-bold text-journal-ink text-sm">å¤©æ°£é å ±</span>
                        </a>
                        <div class="journal-card p-4 flex flex-col items-center justify-center space-y-2">
                             <i class="fa-solid fa-phone-volume text-3xl text-journal-accent"></i>
                            <span class="font-bold text-journal-ink text-sm">ç·Šæ€¥: 110 / 119</span>
                        </div>
                    </div>

                    <div class="bg-white rounded-xl shadow-sm border border-journal-line p-5">
                        <h3 class="font-bold text-journal-ink mb-3 text-sm">ç·Šæ€¥è¯çµ¡ (TECO)</h3>
                        <ul class="space-y-3 text-sm text-gray-600">
                            <li class="flex items-center"><i class="fa-solid fa-phone w-6 text-journal-accent"></i> ç¦å²¡æ€¥é›£ï¼š090-1922-9740</li>
                             <li class="flex items-center"><i class="fa-solid fa-phone w-6 text-journal-accent"></i> é‚£éœ¸æ€¥é›£ï¼š090-1942-1107</li>
                        </ul>
                    </div>
                </div>
            `;
            container.innerHTML = html;
        }

        // Start
        init();
        switchTab('plan'); // Init Tab

        function openMap(query) {
            window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(query)}`, '_blank');
        }
        function toggleCheck(item) {
            STATE.checklist[item] = !STATE.checklist[item];
            localStorage.setItem('tripChecklist', JSON.stringify(STATE.checklist));
            renderLists(document.getElementById('app-container'));
        }
        function saveMemo(val) {
            STATE.memo = val;
            localStorage.setItem('tripMemo', val);
            updateMemoLinks(val);
        }
        function updateMemoLinks(text) {
            const container = document.getElementById('memo-links');
            if(!container) return;
            const urlRegex = /(https?:\/\/[^\s]+)/g;
            const matches = text.match(urlRegex);
            if(matches) {
                container.innerHTML = matches.map(url => `
                    <a href="${url}" target="_blank" class="inline-flex items-center px-2 py-1 bg-white border border-journal-line rounded text-[10px] text-journal-blue truncate max-w-[150px]">
                        <i class="fa-solid fa-link mr-1"></i> é€£çµ
                    </a>
                `).join('');
            } else { container.innerHTML = ''; }
        }

    </script>
</body>
</html>
